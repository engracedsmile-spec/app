exports.id=1459,exports.ids=[1459],exports.modules={10144:()=>{},28982:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(50031);c(10144),function(){var a=Error("Cannot find module 'mapbox-gl/dist/mapbox-gl.css'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/sonner'");throw a.code="MODULE_NOT_FOUND",a}();var e=c(9846),f=c.n(e);!function(){var a=Error("Cannot find module '@/components/theme-provider'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/hooks/use-auth'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/context/preloader-context'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/firebase/client-provider'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/fcm-initializer'");throw a.code="MODULE_NOT_FOUND",a}();var g=c(21994);!function(){var a=Error("Cannot find module '@/components/preloader'");throw a.code="MODULE_NOT_FOUND",a}();let h={title:"Engraced Smiles",description:"Reliable passenger and courier services.",manifest:"/manifest.json",icons:{icon:[{url:"/favicon.ico",sizes:"32x32",type:"image/x-icon"},{url:"/icon.png",sizes:"284x284",type:"image/png"}],apple:"/icons/apple-touch-icon.png"}};function i({children:a}){return(0,d.jsxs)("html",{lang:"en",className:`${f().variable}`,suppressHydrationWarning:!0,children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),(0,d.jsx)("meta",{name:"application-name",content:"Engraced Smiles"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Engraced Smiles"}),(0,d.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,d.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"msapplication-config",content:"/icons/browserconfig.xml"}),(0,d.jsx)("meta",{name:"msapplication-TileColor",content:"#a67c00"}),(0,d.jsx)("meta",{name:"msapplication-tap-highlight",content:"no"}),(0,d.jsx)("meta",{name:"theme-color",content:"#1A1A1A"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico",type:"image/x-icon",sizes:"32x32"}),(0,d.jsx)("link",{rel:"icon",href:"/icon.png",type:"image/png",sizes:"284x284"}),(0,d.jsx)("link",{rel:"apple-touch-icon",href:"/icons/apple-touch-icon.png"}),(0,d.jsx)("link",{rel:"manifest",href:"/manifest.json"})]}),(0,d.jsx)("body",{className:"font-body antialiased",suppressHydrationWarning:!0,children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/theme-provider'");throw a.code="MODULE_NOT_FOUND",a}()),{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/firebase/client-provider'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/hooks/use-auth'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/context/preloader-context'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsxs)(g.Suspense,{fallback:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/preloader'");throw a.code="MODULE_NOT_FOUND",a}()),{}),children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/fcm-initializer'");throw a.code="MODULE_NOT_FOUND",a}()),{}),a]})})})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/sonner'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})})]})}},30094:()=>{},35445:(a,b,c)=>{"use strict";c.d(b,{U:()=>I});var d=c(71265),e=c(34708),f=c.n(e),g=c(38515);!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,ChevronRight,Loader2,Tag!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}();let h=({icon:a,title:b,value:c,onEdit:e})=>(0,d.jsxs)("div",{onClick:e,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("flex items-start gap-4 p-4 rounded-xl bg-muted/50 border border-border/50",e&&"cursor-pointer hover:bg-muted"),children:[(0,d.jsx)("div",{className:"flex-shrink-0 mt-1",children:a}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-bold",children:b}),c&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]}),e&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,ChevronRight,Loader2,Tag!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-muted-foreground self-center"})]}),i=({data:a,onConfirm:b,onBack:c,onEdit:e,isCalculatingPrice:f,onCouponChange:g})=>{let i,j=a.paymentMethod&&a.seats&&a.seats.length>0;i="charter"===a.bookingType?"Entire Vehicle (Charter)":a.seats&&a.seats.length>0?`Seat${a.seats.length>1?"s":""} ${a.seats.join(", ")}`:"No seat selected";let k=a.price||0,l=[a.passengerName,...a.passengers?.map(a=>a.name)||[]].filter(Boolean);return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-card",children:[(0,d.jsxs)("main",{className:"flex-1 space-y-4 p-4 md:p-6 overflow-y-auto",children:[(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Passengers",value:l.join(", ")||"Not set",onEdit:()=>e(2)}),"charter"!==a.bookingType&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Pickup",value:a.pickupAddress||"Not set",onEdit:()=>e(0)}),(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Destination",value:a.destinationAddress||"Not set",onEdit:()=>e(0)})]}),(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Travel Date",value:a.travelDate?new Date(a.travelDate).toLocaleString("en-US",{dateStyle:"full"}):"Not set",onEdit:()=>e(0)}),(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,ChevronRight,Loader2,Tag!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:i,value:`${l.length} passenger(s)`,onEdit:()=>e(2)}),(0,d.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border/50 space-y-2",children:[(0,d.jsxs)("label",{className:"font-bold flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,ChevronRight,Loader2,Tag!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-5 w-5"})," Coupon Code"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{placeholder:"Enter coupon code (optional)",onChange:a=>g(a.target.value),defaultValue:a.couponCode})]}),(0,d.jsx)(h,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,CreditCard,MapPin,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:a.paymentMethod||"Choose payment method",value:"",onEdit:()=>e(2)})]}),(0,d.jsxs)("footer",{className:"p-4 border-t border-border/50 bg-card space-y-3 shrink-0",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Fare"}),(0,d.jsx)("p",{className:"text-3xl font-bold",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(k)})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>b(),className:"h-14 w-full text-lg font-bold",disabled:f||!j,children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,ChevronRight,Loader2,Tag!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-5 w-5 animate-spin"}),"Confirming..."]}):"Confirm & Book"})]})]})};var j=c(46028),k=c.n(j);!function(){var a=Error("Cannot find module 'qrcode.react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/icons/logo-full'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/separator'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}();let l=({label:a,value:b,icon:c})=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider flex items-center gap-1.5",children:[(0,d.jsx)(c,{className:"h-3 w-3"})," ",a]}),(0,d.jsx)("p",{className:"font-bold text-base",children:b||"N/A"})]}),m=f().forwardRef(({booking:a},b)=>{let c=a.travelDate?new Date(a.travelDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",e=a.travelDate?new Date(a.travelDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",f="id"in a?a.id:a.code,g="status"in a&&["Boarding","In Transit","Completed"].includes(a.status),h=(0,d.jsx)("div",{className:"p-4 bg-background text-foreground",style:{width:"100%",maxWidth:"400px",margin:"auto"},children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-full border-2 border-primary/50 shadow-2xl shadow-primary/20 bg-card overflow-hidden",children:[g&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:(0,d.jsx)("div",{className:"border-8 border-green-500 rounded-full p-4",children:(0,d.jsx)("span",{className:"text-5xl font-black text-green-500 transform -rotate-15",children:"VERIFIED"})})}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-center bg-primary/10 p-6",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/icons/logo-full'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-10 w-auto mx-auto mb-2"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-2xl",children:"Boarding Pass"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Keep this ticket safe. You will need it to board."})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("div",{className:"p-2 bg-white rounded-md",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module 'qrcode.react'");throw a.code="MODULE_NOT_FOUND",a}()),{value:f,size:128,bgColor:"#ffffff",fgColor:"#000000",level:"H",imageSettings:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxMC43NCAxNS4yNiI+PGcgZmlsbD0iIzAwMCI+PHBhdGggZD0iTTQuNTUgMTUuMjZjMC4zNSwtMC40NiAwLjcyLC0wLjk5IDEuMDgsLTEuNTVsLTEuMiAwLjI3IC0wLjAxIC0wLjQ1IDEuNiAtMC40MyAwLjEgLTAuMTYgLTEuNjUgMC40MSAtMC4wMSAtMS4wMiAyLjQyIC0wLjcyIC0wLjAxIDAuMDRjMC4wNiwtMC4xMSAwLjEyLC0wLjIyIDAuMTgsLTAuMzRsLTEuNzUgMC40NCAtMC4wMyAtMC42NSAyLjIxIC0wLjY3YzAuMDQsLTAuMDcgMC4wNywtMC4xNSAwLjEsLTAuMjJsLTIuMjcgMC42NCAtMC4wNiAtMS40OCAzLjA5IC0xLjAxYzAuNDMsLTEuMjMgMC42OSwtMi40NSAwLjY5LC0zLjU1IDAsLTAuMTcgLTAuMDEsLTAuMzMgLTAuMDMsLTAuNDkgLTAuMDgsMC4wMSAtMC4xNiwwLjAxIC0wLjI3LC0wIDAsMC4wNyAwLjAxLDAuMTUgMC4wMSwwLjIyIDAsMi4xNCAtMS43MywzLjg3IC0zLjg3LDMuODcgLTIuMTQsMCAtMy44NywtMS43MyAtMy44NywtMy44NyAwLC0yLjE0IDEuNzMsLTMuODcgMy44NywtMy44NyAwLjQ3LDAgMC45MywwLjA5IDEuMzUsMC4yNCAwLC0wLjA5IC0wLC0wLjE5IC0wLjAxLC0wLjI4IC0wLjUyLC0wLjIxIC0xLjA5LC0wLjMzIC0xLjY5LC0wLjMzIC0yLjIzLDAgLTQuMDcsMS42MSAtNC40NSwzLjczIC0wLjI5LDEuNjMgMC41OCw0LjAzIDEuNjksNi4yOWwzLjMgLTAuOTEgMC4wNCAwLjYgLTIuODggMC44MyAwLjEgMC4yOCAyLjc4IC0wLjAzIDAuMDQgMC42NSAtMi42OSAwLjcyYzAuMDQsMC4wOCAwLjA5LDAuMTYgMC4xMywwLjI0bDIuNTYgLTAuNzQgMC4wMyAwLjYyIC0yLjI4IDAuNjggMC4xMyAwLjIyIDEuMzIgLTAuMzIgMC4wMiAwLjQyIC0xLjEyIDAuMjkgMC4xIDAuMTcgMS4wMSAtMC4yNyAwLjAxIDAuNDUgLTAuOCAwLjE5IDAuMDkgMC4xNCAwLjcyIC0wLjE5IDAuMDEgMC40MyAtMC41IDAuMTNjMC4yNiwwLjQzIDAuNSwwLjgxIDAuNywxLjE0em0xLjg2IC0yLjgxYzAuMDQsLTAuMDggMC4wOSwtMC4xNSAwLjEzLC0wLjIzbC0xLjU0IDAuMzkgLTAgMC4xOSAxLjQgLTAuMzcgMCAwLjAyem0xLjQ4IC0yLjk2YzAuMDQsLTAuMSAwLjA4LC0wLjE5IDAuMTIsLTAuMjlsLTEuOTYgMC41NiAwLjAxIDAuMjcgMS44MyAtMC41M3oiIC8+PHBhdGggZD0iTTYuOTcgMGMwLjM0LDIuNCAxLjc5LDMuMTMgMy43NywzLjA4IC0yLjQxLDAuMTcgLTMuNzYsMS4xMSAtMy43NywzLjA4IDAuMjcsLTIuMyAtMS41OCwtMi44MiAtMy43NywtMy4wOCAyLjIsMC4xNSAzLjQ0LC0wLjg4IDMuNzcsLTMuMTh6IiAvPjwvZz48L3N2Zz4=",x:void 0,y:void 0,height:24,width:24,excavate:!0}})})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Booking ID"}),(0,d.jsx)("p",{className:"font-mono text-lg tracking-widest",children:f.slice(0,10).toUpperCase()})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/separator'");throw a.code="MODULE_NOT_FOUND",a}()),{}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(l,{label:"Passenger(s)",value:a.passengers?.join(", "),icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(l,{label:"From",value:a.pickupAddress?.split(",")[0],icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())}),(0,d.jsx)(l,{label:"To",value:a.destinationAddress?.split(",")[0],icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(l,{label:"Seat(s)",value:a.itemDescription,icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())}),(0,d.jsx)(l,{label:"Date & Time",value:`${c}, ${e}`,icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())})]})]}),a.wifiPassword&&(0,d.jsxs)("div",{className:"p-3 rounded-lg bg-blue-500/10 text-blue-500 flex items-start gap-3",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs font-semibold",children:"Onboard WiFi"}),(0,d.jsxs)("p",{className:"text-xs font-medium",children:["Password: ",(0,d.jsx)("span",{className:"font-bold",children:a.wifiPassword})]})]})]}),(0,d.jsxs)("div",{className:"p-3 rounded-lg bg-blue-500/10 text-blue-500 flex items-start gap-3",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Bell,Calendar,Car,User,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),(0,d.jsx)("p",{className:"text-xs font-medium",children:"driverName"in a&&a.driverName?`Your driver is ${a.driverName}.`:"A driver will be assigned closer to your departure time. Log in to your account to receive live notifications."})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/separator'");throw a.code="MODULE_NOT_FOUND",a}()),{}),(0,d.jsx)("p",{className:"text-xs text-center text-muted-foreground pt-4",children:"Please arrive at the terminal at least 30 minutes before departure. Have a safe trip!"})]})]})});return b?(0,d.jsx)("div",{ref:b,children:h}):h});m.displayName="Ticket",function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'react-to-print'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'html-to-image'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'jspdf'");throw a.code="MODULE_NOT_FOUND",a}();let n=({icon:a,title:b,description:c})=>(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0 bg-primary/10 text-primary p-2 rounded-full",children:(0,d.jsx)(a,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:b}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]})]}),o=({booking:a,onFinish:b,isGuest:c=!0})=>{let f=(0,g.useRouter)(),h=(0,e.useRef)(null),[i,j]=(0,e.useState)(!1);Object(function(){var a=Error("Cannot find module 'react-to-print'");throw a.code="MODULE_NOT_FOUND",a}())({content:()=>h.current,documentTitle:`Ticket-${a?.code}`,onPrintError:a=>{console.error("Print error:",a),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Print Failed",{description:"Could not download ticket. Please try again."})}});let l=async()=>{if(h.current&&a){j(!0);try{let b=await Object(function(){var a=Error("Cannot find module 'html-to-image'");throw a.code="MODULE_NOT_FOUND",a}())(h.current,{quality:1,pixelRatio:2,backgroundColor:"#ffffff"}),c=Object(function(){var a=Error("Cannot find module 'jspdf'");throw a.code="MODULE_NOT_FOUND",a}())({orientation:"portrait",unit:"px",format:[400,600]}),d=c.getImageProperties(b),e=c.internal.pageSize.getWidth(),f=d.height*e/d.width;c.addImage(b,"PNG",0,0,e,f),c.save(`Ticket-${a.code.slice(0,10)}.pdf`),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).success("Downloaded!",{description:"Your ticket has been downloaded as PDF."})}catch(a){console.error("Download error:",a),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Download Failed",{description:"Could not download ticket. Please try the print option instead."})}finally{j(!1)}}};if(!a)return(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[(0,d.jsx)("p",{className:"text-muted-foreground mb-4",children:"No trip details found. Something went wrong."}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>{localStorage.removeItem("bookingFlowProgress"),f.push("/")},children:"Back to Home"})]});let o=[{icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),title:"Trip Reminders & Notifications",description:"Get live updates and reminders about your trip."},{icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),title:"View Trip History",description:"Keep a record of all your past and upcoming journeys."},{icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),title:"Secure Wallet",description:"Manage funds for even faster one-click bookings."}];return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-card",children:[(0,d.jsx)("div",{style:{display:"none"},children:(0,d.jsx)(m,{ref:h,booking:a})}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"text-center space-y-2",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center bg-green-500/20 text-green-400 rounded-full p-3 mb-2",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-8 w-8"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Trip Booked Successfully"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:c?"Your ticket is ready. Download it now and create an account to manage your trips.":a.driverName?`Your ticket is ready. Your driver is ${a.driverName}.`:"Your ticket is ready. A driver will be assigned to your trip shortly."})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"bg-card",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-4",children:(0,d.jsx)(m,{booking:a})})}),a.wifiPassword&&(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"bg-blue-500/5 border-blue-500/20",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center gap-2 text-blue-400",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"}),"Onboard WiFi Details"]})}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Network (SSID)"}),(0,d.jsx)("p",{className:"font-semibold text-lg",children:a.wifiSSID})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Password"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("p",{className:"font-semibold text-lg font-mono tracking-wider flex-1",children:a.wifiPassword}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(a.wifiPassword||""),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).success("Copied!")},children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})})]})]}),c&&(0,d.jsx)("p",{className:"text-xs text-blue-400/80",children:"Tip: Screenshot this or create an account to save it automatically."})]})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:l,className:"w-full h-14 text-lg font-bold",disabled:i,children:i?(0,d.jsx)(d.Fragment,{children:"Preparing Download..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-3 h-6 w-6"}),"Download Your Ticket"]})}),c&&(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"bg-card/50",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Why Create an Account?"})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:o.map(a=>(0,d.jsx)(n,{...a},a.title))})]})]}),(0,d.jsx)("footer",{className:"p-4 border-t border-border/50 bg-card space-y-3 shrink-0",children:c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{asChild:!0,className:"w-full h-12 text-base font-semibold",children:(0,d.jsx)(k(),{href:`/signup?tripId=${a.code}`,children:"Create Account"})}),(0,d.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account? ",(0,d.jsx)(k(),{href:`/signin?tripId=${a.code}`,className:"font-bold text-primary hover:underline",children:"Sign In"})]})]}):(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:b,className:"w-full h-12 text-base font-semibold",children:["Go to Dashboard ",(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowRight,Award,Bell,CheckCircle2,Copy,Download,Wallet,Wifi!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"ml-2 h-5 w-5"})]})})]})};!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/calendar'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}();let p=({onNext:a,initialData:b,routes:c,terminals:f,isProcessing:h})=>{let i=(0,g.useRouter)(),[j,k]=(0,e.useState)(b.routeId&&c.find(a=>a.id===b.routeId)?.originTerminalId||""),[l,m]=(0,e.useState)(b.routeId&&c.find(a=>a.id===b.routeId)?.destinationTerminalId||""),[n,o]=(0,e.useState)(b.travelDate?new Date(b.travelDate):new Date),p=c.filter(a=>a.originTerminalId===j).map(a=>f.find(b=>b.id===a.destinationTerminalId)).filter(Boolean).reduce((a,b)=>(a.find(a=>a.id===b.id)||a.push(b),a),[]);(0,e.useEffect)(()=>{j&&1===p.length&&l!==p[0].id&&m(p[0].id)},[j,p,l]);let q=async()=>{if(!j||!l||!n)return void Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Missing Information",{description:"Please select departure, destination, and date."});let b=c.find(a=>a.originTerminalId===j&&a.destinationTerminalId===l);if(!b)return void Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).info("Route Not Available",{description:"We do not currently operate on the selected route. Please select another."});let d=f.find(a=>a.id===j),e=f.find(a=>a.id===l);a({pickupAddress:d?.name||j,destinationAddress:e?.name||l,travelDate:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw a.code="MODULE_NOT_FOUND",a}())(n,"yyyy-MM-dd"),routeId:b.id})};return(0,d.jsxs)("div",{className:"flex flex-col h-full bg-card",children:[(0,d.jsxs)("header",{className:"p-4 flex items-center justify-center relative border-b border-border/50 shrink-0",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"button",variant:"ghost",size:"icon",onClick:()=>i.push("/"),className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})}),(0,d.jsx)("div",{className:"flex-1 text-center",children:(0,d.jsx)("h1",{className:"text-xl font-bold",children:"Book Your Trip"})})]}),(0,d.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 flex flex-col justify-center",children:(0,d.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 block",children:"From"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{onValueChange:a=>{k(a);let b=c.find(b=>b.originTerminalId===a);b&&b.destinationTerminalId===l||m("")},value:j,children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-full pl-12 pr-4 py-4 h-16 bg-muted border-2 border-border rounded-2xl text-lg font-semibold text-foreground appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all flex items-center",children:[(0,d.jsx)("div",{className:"absolute left-0 top-0 bottom-0 flex items-center justify-center w-12 text-primary",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{size:20})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{placeholder:"Select Terminal"})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{children:f.map(a=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{value:a.id,children:a.name},a.id))})]})]}),(0,d.jsx)("div",{className:"flex justify-center -my-3 relative z-10",children:(0,d.jsx)("button",{onClick:()=>{c.find(a=>a.id===c.find(a=>a.originTerminalId===j&&a.destinationTerminalId===l)?.reverseRouteId)?(k(l),m(j)):Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).info("No Reverse Route",{description:"A reverse route is not set up. Please select manually."})},className:"bg-gradient-to-br from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-primary-foreground w-12 h-12 rounded-full shadow-lg shadow-primary/30 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{size:20})})}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 block",children:"To"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{onValueChange:m,value:l,disabled:!j,children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-full pl-12 pr-4 py-4 h-16 bg-muted border-2 border-border rounded-2xl text-lg font-semibold text-foreground appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all flex items-center",children:[(0,d.jsx)("div",{className:"absolute left-0 top-0 bottom-0 flex items-center justify-center w-12 text-primary",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{size:20})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{placeholder:"Select Terminal"})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{children:p.map(a=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/select'");throw a.code="MODULE_NOT_FOUND",a}()),{value:a.id,disabled:a.id===j,children:a.name},a.id))})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 block",children:"Date"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{asChild:!0,children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"outline",className:"w-full h-12 justify-start text-left font-medium bg-muted border-2 border-border rounded-xl text-foreground",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-4 w-4 text-primary"}),n?Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw a.code="MODULE_NOT_FOUND",a}())(n,"PPP"):(0,d.jsx)("span",{children:"Pick a date"})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-auto p-0",align:"start",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/calendar'");throw a.code="MODULE_NOT_FOUND",a}()),{mode:"single",selected:n,onSelect:o,disabled:a=>a<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]})]})})]})})}),(0,d.jsx)("footer",{className:"p-4 border-t border-border/50 bg-card shrink-0",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:q,className:"w-full bg-gradient-to-r from-primary via-primary/90 to-primary/80 hover:shadow-primary/40 text-primary-foreground font-bold text-lg py-4 h-16 rounded-2xl shadow-lg shadow-primary/30 transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",disabled:h,children:h?(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,ArrowUpDown,Calendar,Loader2,MapPin!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-5 w-5 animate-spin"}):"Search Departures"})})]})};!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/skeleton'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/badge'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/alert'");throw a.code="MODULE_NOT_FOUND",a}();let q=({trip:a,onSelect:b,selected:c})=>{let e=7-(a.bookedSeats?.length||0);return(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:b,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("cursor-pointer hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",c&&"border-primary ring-2 ring-primary"),children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-4 grid grid-cols-3 items-center gap-4",children:[(0,d.jsxs)("div",{className:"col-span-2 flex items-center gap-4",children:[(0,d.jsx)("div",{className:"p-3 bg-primary/10 rounded-full hidden sm:block",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-6 w-6 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("p",{className:"font-bold text-lg",children:a.departurePeriod}),"Boarding"===a.status&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/badge'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"outline",className:"text-xs border-indigo-500/50 bg-indigo-500/10 text-indigo-500",children:"Boarding"})]}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-4 w-4"}),"Driver: ",a.driverName]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-semibold text-lg flex items-center gap-2 justify-end",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-4 w-4"})," ",e]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"seats left"})]})]})})},r=({onNext:a,onBack:b,trips:c,loading:f,error:g})=>{let[h,i]=(0,e.useState)(null);return(0,d.jsxs)("div",{className:"w-full h-full flex flex-col bg-card",children:[(0,d.jsx)("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4",children:f?Array.from({length:3}).map((a,b)=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/skeleton'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-24 w-full"},b)):g?(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"destructive",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-4 w-4"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Error Fetching Departures"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)("p",{children:"We couldn't load available trips. Here's the error from the server:"}),(0,d.jsx)("pre",{className:"mt-2 text-xs bg-muted/50 p-2 rounded-md whitespace-pre-wrap font-mono",children:g})]})]}):c.length>0?c.map(a=>(0,d.jsx)(q,{trip:a,onSelect:()=>i(a),selected:h?.id===a.id},a.id)):(0,d.jsxs)("div",{className:"text-center py-16 text-muted-foreground h-full flex flex-col items-center justify-center",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,Armchair,Car,Clock,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-16 w-16 mx-auto text-primary/20"}),(0,d.jsx)("p",{className:"text-lg font-semibold mt-4",children:"No Trips Available"}),(0,d.jsx)("p",{className:"mt-1",children:"There are no scheduled trips for this route on the selected date."}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:b,variant:"outline",className:"mt-4",children:"Change Date or Route"})]})}),(0,d.jsx)("footer",{className:"p-4 border-t border-border/50 bg-card shrink-0",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>h&&a(h),disabled:!h,className:"h-14 w-full text-lg font-bold",children:"Continue"})})]})};var s=c(63132);!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@hookform/resolvers/zod'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/sheet'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/firebase'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'embla-carousel-autoplay'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/icons/real-seat-icon'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/phone-input'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/skeleton'");throw a.code="MODULE_NOT_FOUND",a}();let t=Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({passengerName:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().min(2,"Name is required."),passengerPhone:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().min(10,"Please enter a valid phone number."),seats:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())()).min(1,"Please select at least one seat."),passengers:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({name:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().min(2,"Passenger name is required.")})).optional(),paymentMethod:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({required_error:"Please select a payment method."})}),u=({number:a,label:b,status:c,onSelect:e,className:f})=>{let g="available"===c;return(0,d.jsxs)("button",{type:"button",onClick:()=>g&&e(a),disabled:!g,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("relative flex flex-col items-center justify-center aspect-square w-full rounded-lg font-semibold transition-all duration-200 transform",{available:"border-2 border-dashed border-muted-foreground/30 hover:border-primary hover:bg-primary/10 text-muted-foreground cursor-pointer hover:scale-105",taken:"bg-muted text-muted-foreground/50 cursor-not-allowed",selected:"bg-primary border-primary text-primary-foreground cursor-default scale-110 shadow-lg shadow-primary/40",held:"bg-yellow-500/20 text-yellow-500 cursor-not-allowed border-yellow-500/50"}[c],f),children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/icons/real-seat-icon'");throw a.code="MODULE_NOT_FOUND",a}()),{className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("w-3/4 h-3/4","selected"===c?"text-white":"text-current")}),(0,d.jsx)("span",{className:"text-[10px] sm:text-xs mt-1",children:b}),"taken"===c&&(0,d.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,d.jsx)("div",{className:"w-3/4 h-0.5 bg-destructive/50 rotate-45 absolute"}),(0,d.jsx)("div",{className:"w-3/4 h-0.5 bg-destructive/50 -rotate-45 absolute"})]})]})},v=({isOpen:a,onOpenChange:b,selectedValue:c,onSelect:e,userBalance:f,isGuest:g})=>{let h=[{name:"Wallet",icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),details:g?"Login Required":new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(f),disabled:g},{name:"Pay with Paystack",icon:Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),details:"Card, Bank, or USSD"}];return(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/sheet'");throw a.code="MODULE_NOT_FOUND",a}()),{open:a,onOpenChange:b,children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/sheet'");throw a.code="MODULE_NOT_FOUND",a}()),{side:"bottom",className:"rounded-t-2xl bg-card",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/sheet'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-left mb-4",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/sheet'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-xl",children:"Choose Payment Method"})}),(0,d.jsx)("div",{className:"space-y-2",children:h.map(a=>(0,d.jsxs)("button",{type:"button",onClick:()=>!a.disabled&&e(a.name),disabled:a.disabled,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("flex w-full items-center rounded-lg p-4 text-left transition-colors hover:bg-muted",c===a.name&&"bg-primary/10 border-primary/50 border",a.disabled&&"opacity-50 cursor-not-allowed"),children:[(0,d.jsx)(a.icon,{className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("h-6 w-6 text-primary mr-4",a.disabled&&"text-muted-foreground")}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-semibold text-base",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.details})]}),a.disabled?(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-muted-foreground"}):c===a.name&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-6 w-6 text-primary"})]},a.name))})]})})},w=a=>{if(!a)return null;if(a instanceof Date)return a;if(a instanceof Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}()))return a.toDate();if("string"==typeof a){let b=new Date(a);if(!isNaN(b.getTime()))return b}return void 0!==a.seconds&&void 0!==a.nanoseconds?Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(a.seconds,a.nanoseconds).toDate():null},x=({onNext:a,onBack:b,initialData:c,scheduledTrip:f,opsSettings:g,updateFormData:h,countdown:i,seatHoldExpires:j,setSeatHoldExpires:k,currentTripState:l,setCurrentTripState:m,guestId:n})=>{let{user:o}=Object(function(){var a=Error("Cannot find module '@/firebase'");throw a.code="MODULE_NOT_FOUND",a}())(),p=Object(function(){var a=Error("Cannot find module '@/firebase'");throw a.code="MODULE_NOT_FOUND",a}())(),[q,r]=(0,e.useState)(!1),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)(!1),B=(0,e.useRef)(null),[C,D]=(0,e.useState)(!1),{data:E,loading:F}=Object(function(){var a=Error("Cannot find module '@/firebase'");throw a.code="MODULE_NOT_FOUND",a}())("settings/vehicleShowcase"),G=Object(function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}())({resolver:Object(function(){var a=Error("Cannot find module '@hookform/resolvers/zod'");throw a.code="MODULE_NOT_FOUND",a}())(t),defaultValues:c});(0,e.useEffect)(()=>{G.reset(c)},[c,G]);let H=G.watch("seats")||[],{fields:I,append:J,remove:K}=Object(function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}())({control:G.control,name:"passengers"});(0,e.useEffect)(()=>{let a=H?.length||0,b=a>1?a-1:0;if(I.length<b)for(let a=I.length;a<b;a++)J({name:""});else if(I.length>b)for(let a=I.length-1;a>=b;a--)K(a)},[H,I.length,J,K]);let L=(0,e.useCallback)(async a=>{if(a.length>0&&p){let b=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(p,"scheduledTrips",f.id),c={};a.forEach(a=>{c[`seatHolds.${a}`]=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())()});try{await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(b,c)}catch(a){console.error("Failed to release holds on cleanup:",a)}}},[p,f.id]),M=(0,e.useCallback)(a=>{let b=l||f;if(b.bookedSeats?.includes(a))return"taken";if(H?.includes(a))return"selected";let c=(b.seatHolds||{})[a];if(c){let a=w(c.expires);if(a&&a>new Date)return"held"}return"available"},[H,f,l]),N=(0,e.useCallback)(a=>{let b=M(a);"available"===b?y(a):"selected"===b&&(h({seats:H.filter(b=>b!==a)}),L([a]))},[M,H,h,L]),O=(0,e.useCallback)(async()=>{if(null===x)return;A(!0);let a=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(p,"scheduledTrips",f.id),b=`seatHolds.${x}`,c=o?.id||n;if(!c){Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Session expired",{description:"Please refresh the page and try again."}),A(!1);return}try{let d=j;if(!d||i.isFinished){let a=g?.seatHoldDuration||5;d=new Date(new Date().getTime()+6e4*a),k(d)}await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(a,{[b]:{userId:c,expires:Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}()).fromDate(d)}}),h({seats:[...H,x]}),y(null)}catch(a){console.error(a),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Seat Selection Failed",{description:"Could not update seat status. Please try again."})}finally{A(!1)}},[x,p,f.id,o,n,j,i.isFinished,g,k,h,H]);(0,e.useEffect)(()=>{let a=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(p,"scheduledTrips",f.id),b=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(a,a=>{if(a.exists()){let b={id:a.id,...a.data()};m(b);let c=o?.id||n,d=Object.entries(b.seatHolds||{}).filter(([a,b])=>{let d=w(b.expires);return b.userId===c&&d&&d>new Date}).map(([a])=>parseInt(a));if(JSON.stringify((H||[]).sort())!==JSON.stringify(d.sort())&&h({seats:d}),d.length>0){let a=b.seatHolds?.[d[0]],c=w(a?.expires);c&&c>new Date&&k(c)}else k(null)}});return()=>b()},[f.id,p,o,n,h,k,H,m]),(0,e.useEffect)(()=>{i.isFinished&&j&&(Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).info("Seat hold expired",{description:"Your selected seats have been released."}),L(H),h({seats:[]}),k(null))},[i.isFinished,j,L,h,H]),(0,e.useEffect)(()=>{let a=new IntersectionObserver(([a])=>{D(!a.isIntersecting)},{root:null,threshold:0}),b=B.current;return b&&a.observe(b),()=>{b&&a.unobserve(b)}},[]);let P=(0,e.useCallback)(b=>{h(b),a(b)},[a,h]),Q=G.watch("paymentMethod"),R=(H?.length||0)*((l||f)?.fare||0);return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-card",children:[j&&!i.isFinished&&C&&(0,d.jsx)("div",{className:"fixed top-20 right-4 z-50 p-2 rounded-full bg-yellow-500/20 text-yellow-500 border border-yellow-500/30 flex items-center justify-center h-16 w-16 shadow-lg",children:(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsxs)("span",{className:"font-bold text-lg leading-none",children:[i.minutes,":",String(i.seconds).padStart(2,"0")]}),(0,d.jsx)("span",{className:"text-[10px]",children:"left"})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{...G,children:(0,d.jsxs)("form",{onSubmit:G.handleSubmit(P),className:"h-full flex flex-col",children:[(0,d.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-6 overflow-y-auto",children:[(0,d.jsx)("div",{ref:B,children:j&&!i.isFinished&&(0,d.jsx)("div",{className:"p-4 rounded-xl bg-yellow-500/10 text-yellow-500 border border-yellow-500/20 text-center",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 font-bold text-base",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})," Seats reserved for ",i.minutes,":",String(i.seconds).padStart(2,"0")]})})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}()),{plugins:[Object(function(){var a=Error("Cannot find module 'embla-carousel-autoplay'");throw a.code="MODULE_NOT_FOUND",a}())({delay:4e3,stopOnInteraction:!1})],className:"w-full",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}()),{children:F?(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/skeleton'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"aspect-video w-full"})}):E?.images&&E.images.length>0?E.images.map(a=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)("div",{className:"aspect-video relative rounded-xl overflow-hidden",children:(0,d.jsx)(s.default,{src:a.src,alt:a.alt,fill:!0,className:"object-cover","data-ai-hint":a.hint,unoptimized:!0,onError:a=>{let b=a.target;b.style.display="none";let c=b.parentElement;c&&(c.innerHTML='<div class="flex items-center justify-center h-full bg-muted"><svg class="h-16 w-16 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg></div>')}})})},a.id)):(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/carousel'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)("div",{className:"aspect-video relative rounded-xl overflow-hidden bg-muted flex items-center justify-center",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-16 w-16 text-muted-foreground"})})})})}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Vehicle Details"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:f.routeName})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center text-xs text-muted-foreground",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{})," Music"]}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{})," Bottled Water"]}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{})," Snack Pack"]}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{})," Charging Port"]})]})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:G.control,name:"seats",render:()=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)("div",{className:"text-center bg-muted/30 rounded-xl p-4",children:[(0,d.jsxs)("h3",{className:"font-bold flex items-center justify-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})," Select Your Seat(s)"]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tap a seat to reserve it."})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-4 sm:p-6 flex flex-col items-center gap-6",children:(0,d.jsx)("div",{className:"p-4 bg-muted/50 rounded-xl w-full max-w-[280px] sm:max-w-xs mx-auto",children:(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"relative flex flex-col items-center justify-center aspect-square w-full rounded-lg font-semibold bg-muted text-muted-foreground/50 cursor-not-allowed",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/icons/real-seat-icon'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-3/4 h-3/4 text-current"}),(0,d.jsx)("span",{className:"text-[10px] sm:text-xs mt-1",children:"Driver"})]}),(0,d.jsx)("div",{}),(0,d.jsx)(u,{number:1,label:"Front",status:M(1),onSelect:()=>N(1)}),(0,d.jsx)(u,{number:2,label:"P1",status:M(2),onSelect:()=>N(2)}),(0,d.jsx)(u,{number:3,label:"P2",status:M(3),onSelect:()=>N(3)}),(0,d.jsx)(u,{number:4,label:"P3",status:M(4),onSelect:()=>N(4)}),(0,d.jsx)(u,{number:5,label:"P4",status:M(5),onSelect:()=>N(5)}),(0,d.jsx)(u,{number:6,label:"P5",status:M(6),onSelect:()=>N(6)}),(0,d.jsx)(u,{number:7,label:"P6",status:M(7),onSelect:()=>N(7)})]})})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-center pt-2"})]})}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-primary"})," Lead Passenger & Contact"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"This person's details will be used for all trip communication and they will be counted as the first passenger."})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:G.control,name:"passengerName",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Full Name"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{...a})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:G.control,name:"passengerPhone",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Phone Number"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/phone-input'");throw a.code="MODULE_NOT_FOUND",a}()),{...a,control:G.control})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})})]})]}),I.length>0&&(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Additional Passenger Details"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Please provide the names for each additional passenger."})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:I.map((a,b)=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:G.control,name:`passengers.${b}.name`,render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:["Passenger ",b+2," Name"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{...a})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})},a.id))})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:G.control,name:"paymentMethod",render:()=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"cursor-pointer hover:bg-muted",onClick:()=>r(!0),children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-4",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})," Payment Method"]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:Q||"Select a payment method"})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-muted-foreground"})]})})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-center pt-2"})]})})]}),(0,d.jsxs)("footer",{className:"p-4 border-t border-border/50 bg-card shrink-0 space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center text-center w-full",children:[(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Total Fare (",H.length," seat",1!==H.length?"s":"",")"]}),(0,d.jsx)("p",{className:"text-xl font-bold",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(R)})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"submit",className:"h-14 w-full text-lg font-bold",children:"Continue to Confirmation"})]})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{open:null!==x,onOpenChange:a=>!a&&y(null),children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Confirm Seat Selection"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Once confirmed, this seat will be locked and cannot be unselected until the timer expires. Do you wish to proceed?"})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>y(null),children:"Cancel"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/alert-dialog'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:O,disabled:z,children:[z&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Armchair,Car,CheckCircle,ChevronRight,Clock,Cookie,CreditCard,GlassWater,Loader2,Lock,Music,User,Wallet,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-4 w-4 animate-spin"}),"Confirm"]})]})]})}),(0,d.jsx)(v,{isOpen:q,onOpenChange:r,selectedValue:Q,onSelect:a=>{G.setValue("paymentMethod",a,{shouldValidate:!0}),r(!1)},userBalance:o?.walletBalance||0,isGuest:!o})]})};!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}();let y=({feature:a})=>{let b={"Onboard WiFi":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Bottled Water":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Snack Pack":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Security Escort":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Charging Ports":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Music System":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),"Custom Decorations":Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}())}[a.name]||Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}());return(0,d.jsxs)("div",{className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("flex items-center gap-2","included"===a.status?"text-primary":"text-muted-foreground"),children:[(0,d.jsx)(b,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:a.name})]})},z=({pkg:a,onSelect:b,selected:c})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:b,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("cursor-pointer hover:border-primary/50 hover:bg-primary/5 transition-all duration-200",c&&"border-primary ring-2 ring-primary"),children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:a.name}),c&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-6 w-6 text-primary"})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:a.description})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-bold text-2xl",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(a.basePrice)})," ",(0,d.jsx)("span",{className:"text-muted-foreground",children:"base fare"})]}),(0,d.jsx)("div",{className:"space-y-2",children:a.features&&a.features.length>0&&a.features.map((a,b)=>(0,d.jsx)(y,{feature:a},b))})]})]}),A=({onNext:a,packages:b})=>{let[c,f]=(0,e.useState)(null);return(0,d.jsxs)("div",{className:"w-full h-full flex flex-col bg-card",children:[(0,d.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4",children:b.length>0?b.map(a=>(0,d.jsx)(z,{pkg:a,onSelect:()=>{f(a)},selected:c?.id===a.id},a.id)):(0,d.jsxs)("div",{className:"text-center py-16 text-muted-foreground border-2 border-dashed rounded-lg",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Car,CheckCircle2,Cookie,GlassWater,Music,PartyPopper,ShieldCheck,Wifi,Zap!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-16 w-16 mx-auto text-primary/20"}),(0,d.jsx)("p",{className:"text-lg font-semibold mt-4",children:"No Charter Packages Found"}),(0,d.jsx)("p",{className:"mt-1 max-w-xs mx-auto",children:"This service is not yet available. The administrator has not configured any charter packages."})]})}),(0,d.jsx)("footer",{className:"p-4 border-t border-border/50 bg-card shrink-0",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>{c&&a({...c})},disabled:!c,className:"h-14 w-full text-lg font-bold",children:"Continue"})})]})};!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/textarea'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@hookform/resolvers/zod'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Sparkles,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/calendar'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/phone-input'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/switch'");throw a.code="MODULE_NOT_FOUND",a}();let B=Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({passengerName:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().min(2,"Name is too short."),passengerPhone:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().min(10,"Please enter a valid phone number."),travelDate:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({required_error:"A travel date is required."}),charterDays:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}()).number().min(1,"Charter must be for at least 1 day."),specialInstructions:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().optional(),features:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())({id:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(),name:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(),price:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(),status:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())(["included","optional"]),selected:Object(function(){var a=Error("Cannot find module 'zod'");throw a.code="MODULE_NOT_FOUND",a}())().optional()})).optional()}),C=({name:a,label:b,price:c,control:e,index:f})=>(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e,name:a,render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{htmlFor:`feature-toggle-${f}`,className:"font-medium flex items-center gap-2",children:b}),(0,d.jsxs)("p",{className:"text-xs text-primary font-semibold",children:["+ ",new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(c)]})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/switch'");throw a.code="MODULE_NOT_FOUND",a}()),{id:`feature-toggle-${f}`,checked:a.value,onCheckedChange:a.onChange})})]})}),D=({onNext:a,onBack:b,initialData:c})=>{let e=Object(function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}())({resolver:Object(function(){var a=Error("Cannot find module '@hookform/resolvers/zod'");throw a.code="MODULE_NOT_FOUND",a}())(B),defaultValues:{...c,travelDate:c.travelDate?new Date(c.travelDate):new Date,charterDays:c.charterDays||1,features:c.features?.map(a=>({...a,selected:!1}))||[]}}),{fields:f}=Object(function(){var a=Error("Cannot find module 'react-hook-form'");throw a.code="MODULE_NOT_FOUND",a}())({control:e.control,name:"features"}),g=f.filter(a=>"optional"===a.status);return(0,d.jsx)("div",{className:"h-full flex flex-col bg-card",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{...e,children:(0,d.jsxs)("form",{onSubmit:e.handleSubmit(b=>{a({...b,travelDate:b.travelDate.toISOString()})}),className:"h-full flex flex-col",children:[(0,d.jsxs)("main",{className:"flex-1 space-y-6 p-4 md:p-6 overflow-y-auto",children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Sparkles,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-primary"})," Booking Contact"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Who should we contact about this booking?"})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e.control,name:"passengerName",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Full Name"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{...a})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e.control,name:"passengerPhone",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Phone Number"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/phone-input'");throw a.code="MODULE_NOT_FOUND",a}()),{...a,control:e.control})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})})]})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Sparkles,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-primary"})," Date & Duration"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"When and for how long do you need the vehicle?"})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e.control,name:"travelDate",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex flex-col",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Travel Start Date"}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{asChild:!0,children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"outline",className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("h-12 w-full justify-start text-left font-normal text-base",!a.value&&"text-muted-foreground"),children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Sparkles,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-4 w-4"}),a.value?Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw a.code="MODULE_NOT_FOUND",a}())(a.value,"PPP"):(0,d.jsx)("span",{children:"Pick a date"})]})})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/popover'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-auto p-0",align:"start",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/calendar'");throw a.code="MODULE_NOT_FOUND",a}()),{mode:"single",selected:a.value,onSelect:a.onChange,disabled:a=>a<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e.control,name:"charterDays",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Number of Days"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"number",min:"1",...a})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})})]})]}),g.length>0&&(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Sparkles,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-primary"})," Optional Add-ons"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Select any additional services you require."})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"space-y-4",children:(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map((a,b)=>"optional"===a.status?(0,d.jsx)(C,{name:`features.${b}.selected`,label:a.name,price:a.price,control:e.control,index:b},a.id):null)})})]}),(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Additional Requests"})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{control:e.control,name:"specialInstructions",render:({field:a})=>(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:"Other Requests (Optional)"}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/textarea'");throw a.code="MODULE_NOT_FOUND",a}()),{placeholder:"e.g., Please ensure the vehicle is decorated for a wedding.",...a})}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/form'");throw a.code="MODULE_NOT_FOUND",a}()),{})]})})})]})]}),(0,d.jsx)("footer",{className:"p-4 border-t border-border/50 bg-card shrink-0",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"submit",className:"h-14 w-full text-lg font-bold",children:"Continue to Confirmation"})})]})})})};var E=c(69854);!function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}();let F=({icon:a,title:b,value:c,onEdit:e,children:f})=>(0,d.jsxs)("div",{onClick:e,className:Object(function(){var a=Error("Cannot find module '@/lib/utils'");throw a.code="MODULE_NOT_FOUND",a}())("flex items-start gap-4 p-4 rounded-xl bg-muted/50 border border-border/50",e&&"cursor-pointer hover:bg-muted"),children:[(0,d.jsx)("div",{className:"flex-shrink-0 mt-1",children:a}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-bold",children:b}),c&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c}),f]}),e&&(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5 text-muted-foreground self-center"})]}),G=({data:a,onConfirm:b,onBack:c,onEdit:e,isCalculatingPrice:f,onCouponChange:g})=>{let h=a.charterBasePrice||0;a.charterDailyRate;let i=a.charterDays||1,j=a.features?.filter(a=>"optional"===a.status&&a.selected)||[],k=j.reduce((a,b)=>a+b.price,0),l=a.price||0;return(0,d.jsxs)("div",{className:"h-full flex flex-col bg-card",children:[(0,d.jsxs)("main",{className:"flex-1 space-y-4 p-4 md:p-6 overflow-y-auto",children:[(0,d.jsx)(F,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:a.charterPackageName||"Charter Package",value:"Your selected premium package.",onEdit:()=>e(0)}),(0,d.jsx)(F,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:a.passengerName||"Booking Contact",value:a.passengerPhone||"Not set",onEdit:()=>e(1)}),(0,d.jsx)(F,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Trip Start Date",value:a.travelDate?new Date(a.travelDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set",onEdit:()=>e(1)}),(0,d.jsx)(F,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Duration",value:`${a.charterDays||1} day(s)`,onEdit:()=>e(1)}),j.length>0&&(0,d.jsx)(F,{icon:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-6 w-6"}),title:"Selected Add-ons",onEdit:()=>e(1),children:(0,d.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1 mt-1",children:j.map(a=>(0,d.jsxs)("li",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:a.name}),(0,d.jsxs)("span",{className:"font-semibold text-foreground/80",children:["+ ",new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(a.price)]})]},a.id))})}),(0,d.jsxs)("div",{className:"p-4 rounded-xl bg-muted/50 border border-border/50 space-y-2",children:[(0,d.jsxs)("label",{className:"font-bold flex items-center gap-2",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"text-primary h-5 w-5"})," Coupon Code"]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/input'");throw a.code="MODULE_NOT_FOUND",a}()),{placeholder:"Enter coupon code (optional)",onChange:a=>g(a.target.value),defaultValue:a.couponCode})]})]}),(0,d.jsxs)("footer",{className:"p-4 border-t border-border/50 bg-card space-y-3 shrink-0",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Quoted Fare"}),(0,d.jsx)("p",{className:"text-3xl font-bold",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(l)}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["(Base: ",new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(h),i>1&&` + ${i-1} extra day(s)`,k>0&&" + Add-ons",")"]})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:b,className:"h-14 w-full text-lg font-bold",disabled:f,children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=Calendar,Car,ChevronRight,Hash,Loader2,Sparkles,Tag,User!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):"Confirm & Get Quote"})]})]})};!function(){var a=Error("Cannot find module '@/hooks/use-auth'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,ArrowLeft!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'use-debounce'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module 'react-paystack'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/settings'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/context/preloader-context'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/hooks/use-countdown'");throw a.code="MODULE_NOT_FOUND",a}();let H=()=>{let a=(0,g.useRouter)(),b=(0,g.useSearchParams)(),{user:c,firestore:f,firebaseUser:h}=Object(function(){var a=Error("Cannot find module '@/hooks/use-auth'");throw a.code="MODULE_NOT_FOUND",a}())(),{showPreloader:j}=Object(function(){var a=Error("Cannot find module '@/context/preloader-context'");throw a.code="MODULE_NOT_FOUND",a}())(),k=(0,e.useMemo)(()=>{try{let a=b?.get("bookingType")??null;return"seat_booking"===a||"charter"===a?a:"seat_booking"}catch{return"seat_booking"}},[b]),l=(0,e.useMemo)(()=>{try{return b?.get("draftId")??null}catch{return null}},[b]),[m,n]=(0,e.useState)(0),[q,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(null),[y,z]=(0,e.useState)(!0),[B,C]=(0,e.useState)(null),[F,H]=(0,e.useState)(null),[I,J]=(0,e.useState)([]),[K,L]=(0,e.useState)([]),[M,N]=(0,e.useState)([]),[O,P]=(0,e.useState)([]),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)(null),[U,V]=(0,e.useState)(null),[W,X]=(0,e.useState)(null),[Y,Z]=(0,e.useState)(null),[$]=(0,e.useState)(()=>c?null:`guest_${Math.random().toString(36).substring(2,10)}`),[_,aa]=(0,e.useState)({bookingType:k,paymentMethod:"Pay with Paystack"}),ab=(0,e.useCallback)(a=>{aa(b=>({...b,...a}))},[]),[ac]=Object(function(){var a=Error("Cannot find module 'use-debounce'");throw a.code="MODULE_NOT_FOUND",a}())(_,1e3),ad=Object(function(){var a=Error("Cannot find module '@/hooks/use-countdown'");throw a.code="MODULE_NOT_FOUND",a}())(Y),ae=(0,e.useCallback)(async a=>{if(a.length>0&&f&&Q){let b=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"scheduledTrips",Q.id),c={};a.forEach(a=>{c[`seatHolds.${a}`]=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())()});try{await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(b,c)}catch(a){console.error("Failed to release holds on cleanup:",a)}}},[f,Q]);(0,e.useEffect)(()=>()=>{_.seats&&_.seats.length>0&&ae(_.seats)},[]);let af=(0,e.useCallback)(async()=>{if(c&&f)try{let a=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"drafts",`${c.id}_${_.bookingType}`);await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(a).catch(a=>console.error("Could not delete draft:",a))}catch(a){console.warn("deleteDraft error:",a)}},[c,f,_.bookingType]),ag=(0,e.useCallback)(async(a,b,d)=>{if(u(!0),C(null),!b){C("Booking ID is missing. Please contact support."),u(!1);return}try{let e=await h?.getIdToken(),f=await fetch("charter"===d?"/api/verify-charter-payment":"/api/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}},body:JSON.stringify({reference:a.reference,bookingId:b})}),g=await f.json();if(!f.ok)throw Error(g.message||"Payment verification failed.");c&&await af(),w(g.bookingDetails),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).success("Booking Confirmed!",{description:`Your trip ${g.bookingDetails.code.slice(0,10)} has been scheduled.`}),n(a=>a+1)}catch(a){console.error("Payment verification/finalization error:",a),C(a?.message||"There was an issue finalizing your booking. Please contact support.")}finally{u(!1)}},[h,c,af]),ah=(0,e.useCallback)(()=>{u(!1),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).info("Payment Cancelled",{description:"Your booking is still pending. You can try to pay again from the confirmation screen."})},[]),ai=(0,e.useCallback)(async()=>{if(!f)return{unsubscribes:[]};let b=[];try{let d=Object(function(){var a=Error("Cannot find module '@/lib/settings'");throw a.code="MODULE_NOT_FOUND",a}())(),e=Object(function(){var a=Error("Cannot find module '@/lib/settings'");throw a.code="MODULE_NOT_FOUND",a}())(),g=fetch("/api/routes").then(a=>{if(!a.ok)throw Error("Failed to fetch routes");return a.json()}),h=new Promise((a,c)=>{let d=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"settings","charter"),b=>a(b.data()?.packages??[]),c);b.push(d)}),[i,j,m,o]=await Promise.all([d,e,g,h]);V(i),X(j),J(m.routes),L(m.terminals),P(o);let p={passengerName:c?.name||"",passengerPhone:c?.phone||"",passengerEmail:c?.email||"",paymentMethod:"Pay with Paystack",bookingType:k},q=0;if(l&&c){let b=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"drafts",l),d=await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(b);if(d.exists()&&d.data().userId===c.id){let a=d.data();p={...p,...a.formData??{}},q=a.step??0}else Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Draft not found or access denied."),a.replace("/book-trip")}ab(p),n(q)}catch(a){console.error("Error during initial data load:",a),C(a.message||"Failed to load booking session. Please check your connection and try again.")}finally{z(!1)}return{unsubscribes:b}},[f,c,l,k]);(0,e.useEffect)(()=>{let a=[];return z(!0),ai().then(b=>{a=b.unsubscribes}),()=>a.forEach(a=>a())},[ai]),(0,e.useEffect)(()=>{},[ac,m,v,y]),(0,e.useEffect)(()=>{if(!c||!f||y||v)return;let a=(a=>{let b={};for(let c in a)void 0!==a[c]&&(b[c]=a[c]);return b})(ac),b={id:`${c.id}_${a.bookingType}`,userId:c.id,type:a.bookingType,lastSaved:Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(),formData:a,step:m},d=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"drafts",b.id);Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(d,b,{merge:!0}).catch(a=>{console.error("Failed to save draft:",a)})},[ac,m,c,f,v,y]);let aj=(0,e.useMemo)(()=>W?{publicKey:W.paystackLivePublicKey||"",email:_.passengerEmail||"guest@example.com"}:{},[W,_.passengerEmail]),ak=Object(function(){var a=Error("Cannot find module 'react-paystack'");throw a.code="MODULE_NOT_FOUND",a}())(),al=(0,e.useCallback)(()=>n(a=>a+1),[]),am=(0,e.useCallback)(()=>n(a=>a>0?a-1:0),[]),an=(0,e.useCallback)(a=>{C(null),n(a)},[]),ao=(0,e.useCallback)(async a=>{u(!0),H(null);try{ab(a);let b=await (0,E.o)(a.routeId,a.travelDate);N(b||[]),b&&0!==b.length||Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).info("No Departures Found",{description:"There are no available departures for the selected route and date. Please try another date."}),al()}catch(a){console.error("handleLocationSubmit error:",a),H(a.message||"Could not fetch departures. Please check your connection and try again."),Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).error("Error Fetching Departures",{description:a.message}),al()}finally{u(!1)}},[al,ab]),ap=(0,e.useCallback)(a=>{R(a),ab({price:a.fare,travelDate:a.departureDate}),al()},[al,ab]),aq=(0,e.useCallback)(a=>{ab({...a,price:(a.seats?.length||0)*(Q?.fare||0)}),al()},[al,Q,ab]),ar=(0,e.useCallback)(a=>{ab({bookingType:"charter",charterPackageId:a.id,charterPackageName:a.name,charterBasePrice:a.basePrice,charterDailyRate:a.dailyRate,price:a.basePrice}),al()},[al,ab]),as=(0,e.useCallback)(a=>{let b=_.charterBasePrice||0,c=_.charterDailyRate||0,d=a.charterDays||1;ab({...a,price:b+c*(d-1)}),al()},[al,ab,_.charterBasePrice,_.charterDailyRate]),at=(0,e.useCallback)(async a=>{u(!0),C(null);try{let b=await h?.getIdToken(),d="charter"===a.bookingType?"/api/charter-bookings":"/api/bookings",e=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",...b&&{Authorization:`Bearer ${b}`}},body:JSON.stringify({formData:a,user:c,scheduledTripId:Q?.id})}),f=await e.json();if(!e.ok)throw Error(f.message||"Booking creation failed.");let g=f.bookingId,i=f.finalPrice;if(ab({bookingId:g,price:i}),"Pay with Paystack"===a.paymentMethod){if(!aj.publicKey)throw Error("Payment gateway is not configured. Please contact support.");ak({config:{...aj,amount:100*i,reference:String(new Date().getTime())},onSuccess:b=>ag({...b},g,a.bookingType),onClose:ah})}else if("Wallet"===a.paymentMethod)throw Error("Wallet payment is not yet implemented.")}catch(a){console.error("handleConfirmBooking error:",a),C(a?.message||"An error occurred while creating your booking.")}finally{"Pay with Paystack"!==a.paymentMethod&&u(!1)}},[h,c,Q,aj,ak,ag,ah,ab]),au=(0,e.useCallback)(async()=>{c&&await af(),j(),c?a.push("/dashboard"):a.push(`/signup?tripId=${v?.code??""}`)},[c,af,a,v,j]),av=(0,e.useCallback)(async()=>{if(c){if(Q&&_.seats&&_.seats.length>0&&f){let a=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(f,"scheduledTrips",Q.id),b={};_.seats.forEach(a=>b[`seatHolds.${a}`]=Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())()),await Object(function(){var a=Error("Cannot find module 'firebase/firestore'");throw a.code="MODULE_NOT_FOUND",a}())(a,b).catch(a=>console.error("failed to release seat holds:",a))}Object(function(){var a=Error("Cannot find module 'sonner'");throw a.code="MODULE_NOT_FOUND",a}()).success("Draft Saved!",{description:"Your booking progress has been saved. You can resume from your dashboard."}),a.push("/dashboard")}else a.push("/")},[c,Q,_,f,a]);if(y||!W)return null;if(B&&!t){let a=m===("charter"===_.bookingType?2:3);return(0,d.jsxs)("div",{className:"h-full w-full flex flex-col items-center justify-center p-4",children:[(0,d.jsxs)("header",{className:"p-4 flex items-center justify-center relative border-b border-border/50 shrink-0 w-full max-w-lg",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"button",variant:"ghost",size:"icon",onClick:()=>C(null),className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,ArrowLeft!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})}),(0,d.jsx)("h1",{className:"text-xl font-bold text-destructive",children:"Booking Failed"})]}),(0,d.jsx)("div",{className:"flex-1 flex items-center justify-center w-full max-w-lg",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"w-full text-center border-destructive/50 bg-destructive/10",children:(0,d.jsxs)(Object(function(){var a=Error("Cannot find module '@/components/ui/card'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"p-8 space-y-4",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,ArrowLeft!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-16 w-16 text-destructive mx-auto"}),(0,d.jsx)("h2",{className:"text-xl font-bold",children:a?"Booking Finalization Failed":"An Error Occurred"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:a?"Your payment was successful, but we couldn't finalize your booking. Please see the error details below.":"An unexpected error occurred. Please try again."}),(0,d.jsxs)("div",{className:"mt-4 p-3 bg-muted/50 rounded-md text-left",children:[(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Error Details:"}),(0,d.jsx)("pre",{className:"text-xs text-destructive-foreground whitespace-pre-wrap font-mono",children:B})]}),(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{onClick:()=>C(null),className:"mt-6",children:"Try Again"})]})})})]})}let aw=m!==("charter"===_.bookingType?3:4)&&(m>0||0===m&&"charter"===_.bookingType);return(0,d.jsxs)("div",{className:"h-full w-full max-w-lg mx-auto bg-card shadow-2xl flex flex-col",children:[aw&&(0,d.jsxs)("header",{className:"p-4 flex items-center justify-center relative border-b border-border/50 shrink-0",children:[(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{type:"button",variant:"ghost",size:"icon",onClick:am,className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '__barrel_optimize__?names=AlertTriangle,ArrowLeft!=!lucide-react'");throw a.code="MODULE_NOT_FOUND",a}()),{className:"h-5 w-5"})}),(0,d.jsx)("div",{className:"flex-1 text-center",children:(0,d.jsx)("h1",{className:"text-xl font-bold",children:(()=>{if("charter"===_.bookingType)switch(m){case 0:return"Choose Your Charter Package";case 1:return"Charter Details";case 2:return"Confirm Charter Details";default:return"Charter Vehicle"}switch(m){case 0:return"Book Your Trip";case 1:return"Choose Departure Time";case 2:return"Select Seats & Details";case 3:return"Confirm Details";default:return"Book a Seat"}})()})}),c&&(0,d.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:(0,d.jsx)(Object(function(){var a=Error("Cannot find module '@/components/ui/button'");throw a.code="MODULE_NOT_FOUND",a}()),{variant:"outline",size:"sm",onClick:av,children:"Save & Close"})})]}),(0,d.jsx)("div",{className:"flex-1 min-h-0",children:(()=>{if(!U)return(0,d.jsx)("div",{className:"p-8 text-center text-destructive",children:"Could not load operational settings. Please try again later."});if("charter"===_.bookingType)switch(m){case 0:return(0,d.jsx)(A,{packages:O,onNext:ar});case 1:return(0,d.jsx)(D,{onBack:am,onNext:as,initialData:_});case 2:return(0,d.jsx)(G,{data:_,onConfirm:()=>at(_),onBack:am,onEdit:an,isCalculatingPrice:t,onCouponChange:a=>ab({couponCode:a})});case 3:return(0,d.jsx)(o,{booking:v,onFinish:au,isGuest:!c});default:return null}switch(m){case 0:return(0,d.jsx)(p,{onNext:ao,initialData:_,routes:I,terminals:K,isProcessing:t});case 1:return(0,d.jsx)(r,{trips:M,onNext:ap,onBack:am,loading:t,error:F});case 2:return Q?(0,d.jsx)(x,{scheduledTrip:Q,opsSettings:U,onNext:aq,onBack:am,initialData:_,updateFormData:ab,countdown:ad,seatHoldExpires:Y,setSeatHoldExpires:Z,currentTripState:S,setCurrentTripState:T,guestId:$}):null;case 3:return(0,d.jsx)(i,{data:_,onConfirm:()=>at(_),onBack:am,onEdit:an,isCalculatingPrice:t,onCouponChange:a=>ab({couponCode:a})});case 4:return(0,d.jsx)(o,{booking:v,onFinish:au,isGuest:!c});default:return null}})()})]})},I=()=>(0,d.jsx)(H,{})},51065:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,12963,23)),Promise.resolve().then(c.t.bind(c,81842,23)),Promise.resolve().then(c.t.bind(c,34788,23)),Promise.resolve().then(c.t.bind(c,13467,23)),Promise.resolve().then(c.t.bind(c,5019,23)),Promise.resolve().then(c.t.bind(c,83731,23)),Promise.resolve().then(c.t.bind(c,16901,23)),Promise.resolve().then(c.t.bind(c,73210,23)),Promise.resolve().then(c.t.bind(c,2315,23))},69014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"60b49ad58825c220ab7c40894800e468c745335966":()=>g});var d=c(12621);c(43417);var e=c(62177);!function(){var a=Error("Cannot find module 'firebase-admin'");throw a.code="MODULE_NOT_FOUND",a}(),function(){var a=Error("Cannot find module '@/lib/firebase/admin'");throw a.code="MODULE_NOT_FOUND",a}();let f=a=>{if(null==a||"object"!=typeof a)return a;if(a instanceof Object(function(){var a=Error("Cannot find module 'firebase-admin'");throw a.code="MODULE_NOT_FOUND",a}()).Timestamp)return a.toDate().toISOString();if(Array.isArray(a))return a.map(f);let b={};for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&void 0!==a[c]&&(b[c]=f(a[c]));return b};async function g(a,b){let{adminDb:c}=Object(function(){var a=Error("Cannot find module '@/lib/firebase/admin'");throw a.code="MODULE_NOT_FOUND",a}())();try{let d=c.collection("scheduledTrips").where("routeId","==",a).where("departureDate","==",b).where("status","in",["Scheduled","Boarding"]),e=await d.get();if(e.empty)return[];return e.docs.map(a=>f({id:a.id,...a.data()})).filter(a=>{let b=a.bookedSeats?.length||0,c=Object.keys(a.seatHolds||{}).length;return b+c<7}).sort((a,b)=>"Morning"===a.departurePeriod&&"Evening"===b.departurePeriod?-1:+("Evening"===a.departurePeriod&&"Morning"===b.departurePeriod))}catch(c){throw console.error(`Error in findAvailableDepartures for route ${a} on ${b}:`,c),Error("A database error occurred while searching for departures.")}}(0,e.D)([g]),(0,d.A)(g,"60b49ad58825c220ab7c40894800e468c745335966",null)},69414:()=>{},69854:(a,b,c)=>{"use strict";c.d(b,{o:()=>e});var d=c(43261);let e=(0,d.createServerReference)("60b49ad58825c220ab7c40894800e468c745335966",d.callServer,void 0,d.findSourceMapURL,"findAvailableDepartures")},78479:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(86636);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},87513:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,67337,23)),Promise.resolve().then(c.t.bind(c,74672,23)),Promise.resolve().then(c.t.bind(c,67038,23)),Promise.resolve().then(c.t.bind(c,76465,23)),Promise.resolve().then(c.t.bind(c,49125,23)),Promise.resolve().then(c.t.bind(c,19773,23)),Promise.resolve().then(c.t.bind(c,99535,23)),Promise.resolve().then(c.t.bind(c,71328,23)),Promise.resolve().then(c.bind(c,22381))}};