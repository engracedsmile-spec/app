(()=>{var e={};e.id=6917,e.ids=[6917],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},57401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(63148),r(86120),r(73766),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["admin",{children:["dashboard",{children:["scan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63148)),"/root/app/src/app/admin/dashboard/scan/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,86120)),"/root/app/src/app/admin/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,73766)),"/root/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/app/src/app/admin/dashboard/scan/page.tsx"],u="/admin/dashboard/scan/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/dashboard/scan/page",pathname:"/admin/dashboard/scan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6764:(e,t,r)=>{Promise.resolve().then(r.bind(r,94923))},96575:(e,t,r)=>{Promise.resolve().then(r.bind(r,31238))},94923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(10326),a=r(49260),n=r(35047);r(17577);var i=r(15971),o=r(87321);/**
 * @project Engraced Smiles
 * @author Daniel Innocent <@mdtbmw>
 * @copyright Copyright (c) 2024. All rights reserved.
 * This software is the exclusive property of Daniel Innocent.
 * A license has been granted to Mr. Ismail Muhammed for resale to Engraced Smiles.
 */function l({children:e}){let{user:t,loading:r}=(0,a.a)();return((0,n.useRouter)(),r||!t||"admin"!==t.userType)?s.jsx(i.Preloader,{}):(0,s.jsxs)("div",{className:"flex flex-col h-dvh",children:[s.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:e}),s.jsx(o.h,{})]})}},31238:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(10326),a=r(77626),n=r.n(a),i=r(33261),o=r(91664),l=r(85999),d=r(21405),c=r(35047),u=r(17577),f=r(51223),m=r(55182),p=r.n(m),x=r(1656);function b(){let e=(0,c.useRouter)(),t=(0,u.useRef)(null),r=(0,u.useRef)(null),[a,m]=(0,u.useState)(null),[b,h]=(0,u.useState)(!1),g=(0,u.useRef)(),[v,y]=(0,u.useState)("environment"),j=()=>{if(t.current&&t.current.readyState===t.current.HAVE_ENOUGH_DATA&&r.current){let s=t.current,a=r.current,n=a.getContext("2d");if(n){a.height=s.videoHeight,a.width=s.videoWidth,n.drawImage(s,0,0,a.width,a.height);let t=n.getImageData(0,0,a.width,a.height),r=p()(t.data,t.width,t.height,{inversionAttempts:"dontInvert"});if(r){w(),l.Am.success("QR Code Scanned!",{description:`Redirecting to manifest for trip ${r.data}...`}),e.push(`/admin/dashboard/shipments/${r.data}`);return}}}b&&(g.current=requestAnimationFrame(j))},w=()=>{h(!1),g.current&&cancelAnimationFrame(g.current)},N=async e=>{};return(0,s.jsxs)("div",{className:"jsx-fb59db2e20fc8041 flex flex-col h-full bg-black text-white",children:[s.jsx("header",{className:"jsx-fb59db2e20fc8041 absolute top-0 left-0 right-0 z-20 p-4",children:s.jsx(x.b,{title:"Scan Ticket QR",className:"bg-transparent border-none text-white",children:s.jsx(o.z,{variant:"ghost",size:"icon",onClick:()=>{w();let e="user"===v?"environment":"user";y(e),N(e)},className:"hover:bg-white/10 rounded-full",children:s.jsx(d.Z,{className:"h-6 w-6"})})})}),(0,s.jsxs)("main",{className:"jsx-fb59db2e20fc8041 flex-1 relative flex items-center justify-center overflow-hidden",children:[s.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"jsx-fb59db2e20fc8041 absolute top-0 left-0 w-full h-full object-cover"}),s.jsx("canvas",{ref:r,className:"jsx-fb59db2e20fc8041 hidden"}),s.jsx("div",{className:"jsx-fb59db2e20fc8041 absolute inset-0 bg-black/60"}),!1===a?s.jsx("div",{className:"jsx-fb59db2e20fc8041 z-10 w-full p-4",children:(0,s.jsxs)(i.bZ,{variant:"destructive",className:"bg-red-900/50 border-red-500/50 text-white",children:[s.jsx(i.Cd,{children:"Camera Access Required"}),s.jsx(i.X,{children:"Please allow camera access in your browser settings to use this feature. You may need to refresh the page after granting permission."})]})}):(0,s.jsxs)("div",{className:"jsx-fb59db2e20fc8041 z-10 flex flex-col items-center justify-center space-y-6 w-full h-full",children:[(0,s.jsxs)("div",{className:"jsx-fb59db2e20fc8041 relative w-64 h-64",children:[s.jsx("div",{className:"jsx-fb59db2e20fc8041 absolute top-0 left-0 w-12 h-12 border-t-4 border-l-4 border-primary rounded-tl-lg"}),s.jsx("div",{className:"jsx-fb59db2e20fc8041 absolute top-0 right-0 w-12 h-12 border-t-4 border-r-4 border-primary rounded-tr-lg"}),s.jsx("div",{className:"jsx-fb59db2e20fc8041 absolute bottom-0 left-0 w-12 h-12 border-b-4 border-l-4 border-primary rounded-bl-lg"}),s.jsx("div",{className:"jsx-fb59db2e20fc8041 absolute bottom-0 right-0 w-12 h-12 border-b-4 border-r-4 border-primary rounded-br-lg"}),s.jsx("div",{className:"jsx-fb59db2e20fc8041 "+((0,f.cn)("absolute top-0 left-0 w-full h-1 bg-primary/80 shadow-[0_0_15px_3px_hsl(var(--primary))]",b&&"animate-[scan_3s_ease-in-out_infinite]")||"")})]}),s.jsx("p",{className:"jsx-fb59db2e20fc8041 text-lg font-medium tracking-wider",children:"Point at a QR Code"})]})]}),s.jsx(n(),{id:"fb59db2e20fc8041",children:"@-webkit-keyframes scan{0%{-webkit-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(250px);transform:translatey(250px)}100%{-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes scan{0%{-moz-transform:translatey(0);transform:translatey(0)}50%{-moz-transform:translatey(250px);transform:translatey(250px)}100%{-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes scan{0%{-o-transform:translatey(0);transform:translatey(0)}50%{-o-transform:translatey(250px);transform:translatey(250px)}100%{-o-transform:translatey(0);transform:translatey(0)}}@keyframes scan{0%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(250px);-moz-transform:translatey(250px);-o-transform:translatey(250px);transform:translatey(250px)}100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}},1656:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var s=r(10326),a=r(91664),n=r(86333),i=r(35047),o=r(51223);/**
 * @project Engraced Smiles
 * @author Daniel Innocent <@mdtbmw>
 * @copyright Copyright (c) 2024. All rights reserved.
 * This software is the exclusive property of Daniel Innocent.
 * A license has been granted to Mr. Ismail Muhammed for resale to Engraced Smiles.
 *
 * So, you're looking at my code, huh? That's cool. Just don't copy it without asking.
 * I poured my heart, soul, and a questionable amount of caffeine into this.
 * Find me on socials @mdtbmw if you want to geek out over code.
 */let l=({title:e,children:t,className:r})=>{let l=(0,i.useRouter)();return(0,s.jsxs)("header",{className:(0,o.cn)("flex items-center justify-between p-4 sticky top-0 bg-background z-10 border-b",r),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(a.z,{variant:"ghost",size:"icon",onClick:()=>l.back(),className:"mr-2 flex-shrink-0",children:s.jsx(n.Z,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg md:text-xl font-bold text-left truncate min-w-0",children:e})]}),t&&s.jsx("div",{className:"flex-shrink-0 ml-2",children:t})]})}},33261:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>d,X:()=>c,bZ:()=>l});var s=r(10326),a=r(17577),n=r(79360),i=r(51223);let o=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,i.cn)(o({variant:t}),e),...r}));l.displayName="Alert";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},91664:(e,t,r)=>{"use strict";r.d(t,{d:()=>l,z:()=>d});var s=r(10326),a=r(17577),n=r(99469),i=r(79360),o=r(51223);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},d)=>{let c=a?n.g7:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},86120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/layout.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/layout.tsx#default`)},63148:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(68570);let a=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/scan/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/scan/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,8172,1915,4263,9691,5911,1244,1228,6999,2664,2021,7802],()=>r(57401));module.exports=s})();