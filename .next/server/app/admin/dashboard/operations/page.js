(()=>{var e={};e.id=4975,e.ids=[4975],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},89530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(30218),s(86120),s(73766),s(35866);var r=s(23191),i=s(88716),a=s(37922),n=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin",{children:["dashboard",{children:["operations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,30218)),"/root/app/src/app/admin/dashboard/operations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,86120)),"/root/app/src/app/admin/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,73766)),"/root/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/app/src/app/admin/dashboard/operations/page.tsx"],u="/admin/dashboard/operations/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/dashboard/operations/page",pathname:"/admin/dashboard/operations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58133:(e,t,s)=>{Promise.resolve().then(s.bind(s,85975))},85975:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(10326),i=s(91664),a=s(29752),n=s(73326),o=s(85999),l=s(77506),d=s(14561),c=s(50949),u=s(5932),p=s(35047),h=s(17577),m=s(76),x=s(14592),g=s(83739),j=s(70309),f=s(9969),b=s(74723),v=s(74064),w=s(27256),y=s(95379),q=s(33261),C=s(41190),N=s(49260),S=s(15971),P=s(12867),M=s(48217),_=s(1656),A=s(90434);let O=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 48 48",...e,children:[r.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),r.jsx("path",{fill:"#FF3D00",d:"m6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),r.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.225 0-9.652-3.808-11.303-8.854l-6.571 4.819C9.656 39.663 16.318 44 24 44z"})]}),R=w.Ry({driverRegistrationOpen:w.O7(),driverRegistrationLimit:w.oQ.number().min(0,"Limit must be a positive number."),seatHoldDuration:w.oQ.number().min(5,"Seat hold must be at least 5 minutes."),requireEmailVerification:w.O7(),requirePhoneVerification:w.O7(),authMethods:w.Ry({email:w.O7(),google:w.O7()}).refine(e=>e.email||e.google,{message:"At least one authentication method must be enabled.",path:["email"]})});function k(){(0,p.useRouter)();let[e,t]=(0,h.useState)(!0),{user:s}=(0,N.a)(),w=s?.role||"Support",k=P._[w]?.includes("manageSettings"),Z=(0,b.cI)({resolver:(0,v.F)(R),defaultValues:M.Qt}),E=async e=>{if(!e.authMethods.email&&!e.authMethods.google){o.Am.error("Invalid Configuration",{description:"You must enable at least one sign-in method."});return}let t=(0,m.ad)(x.default),s=(0,m.JU)(t,"settings","operations");(0,m.pl)(s,e,{merge:!0}).then(()=>{o.Am.success("Settings Saved",{description:"Operational settings have been updated."})}).catch(async t=>{let r=new j.b({path:s.path,operation:"update",requestResourceData:e});g.s.emit("permission-error",r),o.Am.error("Error",{description:"Could not save settings due to permissions."})})};return e||!k?r.jsx(S.Preloader,{}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[r.jsx(_.b,{title:"Operations Settings",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(i.z,{size:"sm",type:"submit",form:"operations-settings-form",disabled:Z.formState.isSubmitting,children:[Z.formState.isSubmitting&&r.jsx(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]}),r.jsx(y.m,{page:"operations"})]})}),(0,r.jsxs)("main",{className:"flex-1 p-4 md:p-6 space-y-6 overflow-y-auto",children:[(0,r.jsxs)(q.bZ,{children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx(q.Cd,{children:"Looking for Route Management?"}),(0,r.jsxs)(q.X,{children:["Service routes and their base prices are now managed under ",r.jsx(A.default,{href:"/admin/dashboard/settings/routes",className:"font-bold text-primary hover:underline",children:"Route Management"}),"."]})]}),r.jsx(f.l0,{...Z,children:(0,r.jsxs)("form",{onSubmit:Z.handleSubmit(E),id:"operations-settings-form",className:"space-y-6",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Authentication Methods"}),r.jsx(a.SZ,{children:"Control how users can sign in and sign up."})]}),(0,r.jsxs)(a.aY,{className:"space-y-6",children:[Z.formState.errors.authMethods&&(0,r.jsxs)(q.bZ,{variant:"destructive",children:[r.jsx(c.Z,{className:"h-4 w-4"}),r.jsx(q.Cd,{children:"Configuration Error"}),r.jsx(q.X,{children:Z.formState.errors.authMethods.root?.message})]}),r.jsx(f.Wi,{control:Z.control,name:"authMethods.email",render:({field:e})=>(0,r.jsxs)(f.xJ,{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[r.jsx("div",{children:(0,r.jsxs)(f.lX,{htmlFor:"email-auth-switch",className:"font-semibold flex items-center gap-2",children:[r.jsx(u.Z,{className:"h-4 w-4"})," Enable Email & Password"]})}),r.jsx(f.NI,{children:r.jsx(n.r,{id:"email-auth-switch",checked:e.value,onCheckedChange:e.onChange})})]})}),r.jsx(f.Wi,{control:Z.control,name:"authMethods.google",render:({field:e})=>(0,r.jsxs)(f.xJ,{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[r.jsx("div",{children:(0,r.jsxs)(f.lX,{htmlFor:"google-auth-switch",className:"font-semibold flex items-center gap-2",children:[r.jsx(O,{className:"h-4 w-4"})," Enable Google Sign-In"]})}),r.jsx(f.NI,{children:r.jsx(n.r,{id:"google-auth-switch",checked:e.value,onCheckedChange:e.onChange})})]})})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Passenger Booking"}),r.jsx(a.SZ,{children:"Settings related to the passenger booking flow."})]}),r.jsx(a.aY,{children:r.jsx(f.Wi,{control:Z.control,name:"seatHoldDuration",render:({field:e})=>(0,r.jsxs)(f.xJ,{children:[r.jsx(f.lX,{children:"Seat Hold Duration (Minutes)"}),r.jsx(f.NI,{children:r.jsx(C.I,{type:"number",placeholder:"e.g., 5",...e})}),r.jsx(f.zG,{}),r.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:"How long to reserve a seat for a user while they complete payment. Minimum is 5 minutes."})]})})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[r.jsx(a.ll,{children:"Driver Registrations"}),r.jsx(a.SZ,{children:"Control how and when new drivers can apply."})]}),(0,r.jsxs)(a.aY,{className:"space-y-6",children:[r.jsx(f.Wi,{control:Z.control,name:"driverRegistrationOpen",render:({field:e})=>(0,r.jsxs)(f.xJ,{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[(0,r.jsxs)("div",{children:[r.jsx(f.lX,{htmlFor:"driver-reg-open",className:"font-semibold",children:"Allow New Driver Applications"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable or disable the driver application form."})]}),r.jsx(f.NI,{children:r.jsx(n.r,{id:"driver-reg-open",checked:e.value,onCheckedChange:e.onChange})})]})}),r.jsx(f.Wi,{control:Z.control,name:"driverRegistrationLimit",render:({field:e})=>(0,r.jsxs)(f.xJ,{children:[r.jsx(f.lX,{children:"Driver Registration Limit"}),r.jsx(f.NI,{children:r.jsx(C.I,{type:"number",placeholder:"e.g., 100",...e})}),r.jsx(f.zG,{}),r.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:"Set the maximum number of drivers that can be registered."})]})})]})]})]})})]})]})}},30218:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var r=s(68570);let i=(0,r.createProxy)(String.raw`/root/app/src/app/admin/dashboard/operations/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,r.createProxy)(String.raw`/root/app/src/app/admin/dashboard/operations/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,8172,1915,4263,9691,5911,1244,1228,6999,4568,2087,2021,7802,6519,5472],()=>s(89530));module.exports=r})();