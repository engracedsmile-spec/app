(()=>{var e={};e.id=3534,e.ids=[3534],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},76391:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(8542),s(86120),s(73766),s(35866);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin",{children:["dashboard",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8542)),"/root/app/src/app/admin/dashboard/payment/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,86120)),"/root/app/src/app/admin/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,73766)),"/root/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/app/src/app/admin/dashboard/payment/page.tsx"],p="/admin/dashboard/payment/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/dashboard/payment/page",pathname:"/admin/dashboard/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1336:(e,t,s)=>{Promise.resolve().then(s.bind(s,95042))},43810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},77506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},50949:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},95042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(10326),a=s(91664),i=s(29752),n=s(9969),o=s(41190),l=s(74064),d=s(74723),c=s(27256),p=s(85999),u=s(43810),m=s(86333),x=s(50949),h=s(12714),y=s(77506),f=s(18019),g=s(35047),b=s(17577),j=s(76),v=s(14592),k=s(83739),N=s(70309),P=s(33261),w=s(95379),q=s(49260),S=s(12867),_=s(15971);let C=c.Ry({paystackPublicKey:c.Z_().min(1,"Paystack Public Key is required."),paystackSecretKey:c.Z_().min(1,"Paystack Secret Key is required.")}),Z=({label:e,value:t})=>(0,r.jsxs)(n.xJ,{children:[r.jsx(n.lX,{children:e}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(o.I,{type:"text",readOnly:!0,value:t,className:"bg-muted"}),r.jsx(a.z,{type:"button",variant:"outline",size:"icon",onClick:()=>{navigator.clipboard.writeText(t),(0,p.Am)("Copied to clipboard!")},children:r.jsx(u.Z,{className:"h-4 w-4"})})]})]});function R(){let e=(0,g.useRouter)(),[t,s]=(0,b.useState)(!0),[c,u]=(0,b.useState)(!1),[R,z]=(0,b.useState)(""),{user:I}=(0,q.a)(),A=S._[I?.role||"Support"]?.includes("managePayments"),T=(0,d.cI)({resolver:(0,l.F)(C),defaultValues:{paystackPublicKey:"",paystackSecretKey:""}}),F=async e=>{let t=(0,j.ad)(v.default),s=(0,j.JU)(t,"settings","payment");(0,j.pl)(s,e,{merge:!0}).then(()=>{p.Am.success("Settings Saved",{description:"Paystack API keys have been updated."})}).catch(async t=>{let r=new N.b({path:s.path,operation:"update",requestResourceData:e});k.s.emit("permission-error",r),p.Am.error("Error",{description:"Could not save settings due to permissions."})})},M=`${R}/verify-payment`,E=`${R}/api/webhooks/paystack`;return t||!A?r.jsx(_.Preloader,{}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("header",{className:"flex items-center justify-center p-4 sticky top-0 bg-background z-10 border-b border-border/50",children:[r.jsx(a.z,{variant:"ghost",size:"icon",onClick:()=>e.back(),className:"mr-2 absolute left-4",children:r.jsx(m.Z,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-xl font-bold",children:"Payment Gateway: Paystack"}),r.jsx("div",{className:"absolute right-4",children:r.jsx(w.m,{page:"payment"})})]}),(0,r.jsxs)("main",{className:"flex-1 p-4 md:p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(n.l0,{...T,children:(0,r.jsxs)("form",{onSubmit:T.handleSubmit(F),className:"space-y-8",children:[(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"API Configuration - Test Mode"})}),(0,r.jsxs)(i.aY,{className:"space-y-6",children:[(0,r.jsxs)(P.bZ,{variant:"destructive",children:[r.jsx(x.Z,{className:"h-4 w-4"}),r.jsx(P.Cd,{children:"For Testing Only"}),r.jsx(P.X,{children:"These keys are for testing purposes. Please DO NOT use them in a production environment."})]}),r.jsx(n.Wi,{control:T.control,name:"paystackSecretKey",render:({field:e})=>(0,r.jsxs)(n.xJ,{children:[r.jsx(n.lX,{children:"Test Secret Key"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(o.I,{type:c?"text":"password",placeholder:"sk_test_...",...e}),r.jsx(a.z,{type:"button",variant:"outline",size:"icon",onClick:()=>u(!c),children:r.jsx(h.Z,{className:"h-4 w-4"})})]}),r.jsx(n.zG,{})]})}),r.jsx(n.Wi,{control:T.control,name:"paystackPublicKey",render:({field:e})=>(0,r.jsxs)(n.xJ,{children:[r.jsx(n.lX,{children:"Test Public Key"}),r.jsx(n.NI,{children:r.jsx(o.I,{placeholder:"pk_test_...",...e})}),r.jsx(n.zG,{})]})}),r.jsx(Z,{label:"Test Callback URL",value:M}),r.jsx(Z,{label:"Test Webhook URL",value:E})]})]}),r.jsx("div",{className:"flex justify-end",children:(0,r.jsxs)(a.z,{type:"submit",size:"lg",disabled:T.formState.isSubmitting,children:[T.formState.isSubmitting&&r.jsx(y.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})})]})})}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-5 w-5 text-primary"})," Setup Instructions"]})}),(0,r.jsxs)(i.aY,{className:"space-y-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold text-foreground",children:"1. Get Your API Keys"}),(0,r.jsxs)("p",{children:["Log in to your Paystack Dashboard, go to ",r.jsx("span",{className:"font-semibold text-primary/80",children:"Settings â†’ API Keys & Webhooks"})," to find your Test Secret and Public keys."]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold text-foreground",children:"2. Paste Keys Here"}),r.jsx("p",{children:"Copy the keys from your Paystack dashboard and paste them into the corresponding fields on this page."})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold text-foreground",children:"3. Update Your Paystack Dashboard"}),(0,r.jsxs)("p",{children:["Copy the auto-generated ",r.jsx("span",{className:"font-semibold text-primary/80",children:"Callback URL"})," and ",r.jsx("span",{className:"font-semibold text-primary/80",children:"Webhook URL"})," from this page and paste them into the matching fields in your Paystack dashboard."]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold text-foreground",children:"4. Save Changes"}),r.jsx("p",{children:'Click "Save Changes" on both this page and in your Paystack dashboard to complete the setup.'})]})]})]})})]})]})}},33261:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>d,X:()=>c,bZ:()=>l});var r=s(10326),a=s(17577),i=s(79360),n=s(51223);let o=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:t}),e),...s}));l.displayName="Alert";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},9969:(e,t,s)=>{"use strict";s.d(t,{NI:()=>y,Wi:()=>p,l0:()=>d,lX:()=>h,pf:()=>f,xJ:()=>x,zG:()=>g});var r=s(10326),a=s(17577),i=s(99469),n=s(74723),o=s(51223),l=s(44794);let d=n.RV,c=a.createContext({}),p=({...e})=>r.jsx(c.Provider,{value:{name:e.name},children:r.jsx(n.Qr,{...e})}),u=()=>{let e=a.useContext(c),t=a.useContext(m),{getFieldState:s,formState:r}=(0,n.Gc)(),i=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},m=a.createContext({}),x=a.forwardRef(({className:e,...t},s)=>{let i=a.useId();return r.jsx(m.Provider,{value:{id:i},children:r.jsx("div",{ref:s,className:(0,o.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let h=a.forwardRef(({className:e,...t},s)=>{let{error:a,formItemId:i}=u();return r.jsx(l._,{ref:s,className:(0,o.cn)(a&&"text-destructive",e),htmlFor:i,...t})});h.displayName="FormLabel";let y=a.forwardRef(({...e},t)=>{let{error:s,formItemId:a,formDescriptionId:n,formMessageId:o}=u();return r.jsx(i.g7,{ref:t,id:a,"aria-describedby":s?`${n} ${o}`:`${n}`,"aria-invalid":!!s,...e})});y.displayName="FormControl";let f=a.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:a}=u();return r.jsx("p",{ref:s,id:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})});f.displayName="FormDescription";let g=a.forwardRef(({className:e,children:t,...s},a)=>{let{error:i,formMessageId:n}=u(),l=i?String(i?.message??""):t;return l?r.jsx("p",{ref:a,id:n,className:(0,o.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});g.displayName="FormMessage"},44794:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(10326),a=s(17577),i=s(34478),n=s(79360),o=s(51223);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},s)=>r.jsx(i.f,{ref:s,className:(0,o.cn)(l(),e),...t}));d.displayName=i.f.displayName},83739:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});let r=new(s(82361)).EventEmitter},70309:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});class r extends Error{constructor(e){super(`FirestoreError: Missing or insufficient permissions: The following request was denied by Firestore Security Rules:
${JSON.stringify(e,null,2)}`),this.name="FirestorePermissionError",this.context=e,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}},8542:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var r=s(68570);let a=(0,r.createProxy)(String.raw`/root/app/src/app/admin/dashboard/payment/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,r.createProxy)(String.raw`/root/app/src/app/admin/dashboard/payment/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,8172,1915,4263,9691,5911,1244,1228,6999,4568,2087,2021,7802,6519],()=>s(76391));module.exports=r})();