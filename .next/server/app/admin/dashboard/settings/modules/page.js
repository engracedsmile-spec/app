(()=>{var e={};e.id=2944,e.ids=[2944],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},57816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(7639),r(86120),r(73766),r(35866);var s=r(23191),i=r(88716),a=r(37922),o=r.n(a),n=r(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["admin",{children:["dashboard",{children:["settings",{children:["modules",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7639)),"/root/app/src/app/admin/dashboard/settings/modules/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,86120)),"/root/app/src/app/admin/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,73766)),"/root/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/app/src/app/admin/dashboard/settings/modules/page.tsx"],u="/admin/dashboard/settings/modules/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/dashboard/settings/modules/page",pathname:"/admin/dashboard/settings/modules",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},98403:(e,t,r)=>{Promise.resolve().then(r.bind(r,32418))},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},32418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var s=r(10326),i=r(91664),a=r(29752),o=r(73326),n=r(85999),l=r(86333),d=r(81536),c=r(77506),u=r(35047),p=r(17577),m=r(76),x=r(58451),h=r(83739),f=r(70309),b=r(9969),g=r(74723),v=r(74064),y=r(27256),j=r(95379),k=r(15971),w=r(12867);r(48217);let N=y.Ry({seatBookingEnabled:y.O7(),charterBookingEnabled:y.O7()});function q(){let e=(0,u.useRouter)(),[t,r]=(0,p.useState)(!0),{user:y}=(0,x.aC)(),q=y?.role||"Support",S=w._[q]?.includes("manageSettings"),C=(0,g.cI)({resolver:(0,v.F)(N),defaultValues:{seatBookingEnabled:!0,charterBookingEnabled:!0}}),E=async e=>{let{firestore:t}=(0,x.aC)(),r=(0,m.JU)(t,"settings","operations");(0,m.pl)(r,e,{merge:!0}).then(()=>{n.Am.success("Settings Saved",{description:"Module settings have been updated."})}).catch(async t=>{let s=new f.b({path:r.path,operation:"update",requestResourceData:e});h.s.emit("permission-error",s),n.Am.error("Error",{description:"Could not save settings due to permissions."})})};return t||!S?s.jsx(k.Preloader,{}):(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("header",{className:"flex items-center justify-center p-4 sticky top-0 bg-background z-10 border-b border-border/50",children:[s.jsx(i.z,{variant:"ghost",size:"icon",onClick:()=>e.back(),className:"mr-2 absolute left-4",children:s.jsx(l.Z,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-xl font-bold",children:"Module Management"}),s.jsx("div",{className:"absolute right-4",children:s.jsx(j.m,{page:"operations"})})]}),s.jsx("main",{className:"flex-1 p-4 md:p-6 space-y-6 overflow-y-auto",children:s.jsx(b.l0,{...C,children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit(E),className:"space-y-6",children:[(0,s.jsxs)(a.Zb,{children:[(0,s.jsxs)(a.Ol,{children:[s.jsx(a.ll,{children:"Booking Modules"}),s.jsx(a.SZ,{children:"Enable or disable the core booking types available to customers."})]}),(0,s.jsxs)(a.aY,{className:"space-y-6",children:[s.jsx(b.Wi,{control:C.control,name:"seatBookingEnabled",render:({field:e})=>(0,s.jsxs)(b.xJ,{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(b.lX,{htmlFor:"seat-booking-switch",className:"font-semibold flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-4 w-4"})," Enable Seat Booking"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allows users to book individual seats on scheduled trips."})]}),s.jsx(b.NI,{children:s.jsx(o.r,{id:"seat-booking-switch",checked:e.value,onCheckedChange:e.onChange})})]})}),s.jsx(b.Wi,{control:C.control,name:"charterBookingEnabled",render:({field:e})=>(0,s.jsxs)(b.xJ,{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(b.lX,{htmlFor:"charter-booking-switch",className:"font-semibold flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-4 w-4"})," Enable Vehicle Charter"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allows users to book the entire vehicle for a private trip."})]}),s.jsx(b.NI,{children:s.jsx(o.r,{id:"charter-booking-switch",checked:e.value,onCheckedChange:e.onChange})})]})})]})]}),s.jsx("div",{className:"flex justify-end",children:(0,s.jsxs)(i.z,{size:"lg",type:"submit",disabled:C.formState.isSubmitting,children:[C.formState.isSubmitting&&s.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})})]})})})]})}},9969:(e,t,r)=>{"use strict";r.d(t,{NI:()=>f,Wi:()=>u,l0:()=>d,lX:()=>h,pf:()=>b,xJ:()=>x,zG:()=>g});var s=r(10326),i=r(17577),a=r(99469),o=r(74723),n=r(51223),l=r(44794);let d=o.RV,c=i.createContext({}),u=({...e})=>s.jsx(c.Provider,{value:{name:e.name},children:s.jsx(o.Qr,{...e})}),p=()=>{let e=i.useContext(c),t=i.useContext(m),{getFieldState:r,formState:s}=(0,o.Gc)(),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},m=i.createContext({}),x=i.forwardRef(({className:e,...t},r)=>{let a=i.useId();return s.jsx(m.Provider,{value:{id:a},children:s.jsx("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let h=i.forwardRef(({className:e,...t},r)=>{let{error:i,formItemId:a}=p();return s.jsx(l._,{ref:r,className:(0,n.cn)(i&&"text-destructive",e),htmlFor:a,...t})});h.displayName="FormLabel";let f=i.forwardRef(({...e},t)=>{let{error:r,formItemId:i,formDescriptionId:o,formMessageId:n}=p();return s.jsx(a.g7,{ref:t,id:i,"aria-describedby":r?`${o} ${n}`:`${o}`,"aria-invalid":!!r,...e})});f.displayName="FormControl";let b=i.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:i}=p();return s.jsx("p",{ref:r,id:i,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})});b.displayName="FormDescription";let g=i.forwardRef(({className:e,children:t,...r},i)=>{let{error:a,formMessageId:o}=p(),l=a?String(a?.message??""):t;return l?s.jsx("p",{ref:i,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});g.displayName="FormMessage"},44794:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(10326),i=r(17577),a=r(34478),o=r(79360),n=r(51223);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef(({className:e,...t},r)=>s.jsx(a.f,{ref:r,className:(0,n.cn)(l(),e),...t}));d.displayName=a.f.displayName},73326:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var s=r(10326),i=r(17577),a=r(41959),o=r(51223);let n=i.forwardRef(({className:e,...t},r)=>s.jsx(a.fC,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(a.bU,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n.displayName=a.fC.displayName},83739:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});let s=new(r(82361)).EventEmitter},70309:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});class s extends Error{constructor(e){super(`FirestoreError: Missing or insufficient permissions: The following request was denied by Firestore Security Rules:
${JSON.stringify(e,null,2)}`),this.name="FirestorePermissionError",this.context=e,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}},7639:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});var s=r(68570);let i=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/settings/modules/page.tsx`),{__esModule:a,$$typeof:o}=i;i.default;let n=(0,s.createProxy)(String.raw`/root/app/src/app/admin/dashboard/settings/modules/page.tsx#default`)},41959:(e,t,r)=>{"use strict";r.d(t,{bU:()=>w,fC:()=>k});var s=r(17577),i=r(82561),a=r(48051),o=r(93095),n=r(52067),l=r(53405),d=r(2566),c=r(77335),u=r(10326),p="Switch",[m,x]=(0,o.b)(p),[h,f]=m(p),b=s.forwardRef((e,t)=>{let{__scopeSwitch:r,name:o,checked:l,defaultChecked:d,required:p,disabled:m,value:x="on",onCheckedChange:f,form:b,...g}=e,[v,k]=s.useState(null),w=(0,a.e)(t,e=>k(e)),N=s.useRef(!1),q=!v||b||!!v.closest("form"),[S=!1,C]=(0,n.T)({prop:l,defaultProp:d,onChange:f});return(0,u.jsxs)(h,{scope:r,checked:S,disabled:m,children:[(0,u.jsx)(c.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":p,"data-state":j(S),"data-disabled":m?"":void 0,disabled:m,value:x,...g,ref:w,onClick:(0,i.M)(e.onClick,e=>{C(e=>!e),q&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),q&&(0,u.jsx)(y,{control:v,bubbles:!N.current,name:o,value:x,checked:S,required:p,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});b.displayName=p;var g="SwitchThumb",v=s.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,i=f(g,r);return(0,u.jsx)(c.WV.span,{"data-state":j(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});v.displayName=g;var y=e=>{let{control:t,checked:r,bubbles:i=!0,...a}=e,o=s.useRef(null),n=(0,l.D)(r),c=(0,d.t)(t);return s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==r&&t){let s=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(s)}},[n,r,i]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var k=b,w=v},52067:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});var s=r(17577),i=r(55049);function a({prop:e,defaultProp:t,onChange:r=()=>{}}){let[a,o]=function({defaultProp:e,onChange:t}){let r=s.useState(e),[a]=r,o=s.useRef(a),n=(0,i.W)(t);return s.useEffect(()=>{o.current!==a&&(n(a),o.current=a)},[a,o,n]),r}({defaultProp:t,onChange:r}),n=void 0!==e,l=n?e:a,d=(0,i.W)(r);return[l,s.useCallback(t=>{if(n){let r="function"==typeof t?t(e):t;r!==e&&d(r)}else o(t)},[n,e,o,d])]}},53405:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var s=r(17577);function i(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},2566:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var s=r(17577),i=r(65819);function a(e){let[t,r]=s.useState(void 0);return(0,i.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,i;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,i=t.blockSize}else s=e.offsetWidth,i=e.offsetHeight;r({width:s,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,8172,1915,4263,9691,5911,1244,1228,6999,4568,2087,2021,7802,6519],()=>r(57816));module.exports=s})();