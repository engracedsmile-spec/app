(()=>{var e={};e.id=2505,e.ids=[2505],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},75467:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(31363),t(86120),t(73766),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["dashboard",{children:["trips",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,31363)),"/root/app/src/app/admin/dashboard/trips/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,86120)),"/root/app/src/app/admin/dashboard/layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,73766)),"/root/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/root/app/src/app/admin/dashboard/trips/page.tsx"],u="/admin/dashboard/trips/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/trips/page",pathname:"/admin/dashboard/trips",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},19026:(e,s,t)=>{Promise.resolve().then(t.bind(t,24096))},66307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},88307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},50949:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},24096:(e,s,t)=>{"use strict";t.r(s),t.d(s,{TripCard:()=>B,default:()=>E});var a=t(10326),r=t(17577),l=t(29752),i=t(38443),n=t(66307),d=t(50949),o=t(69669),c=t(81536),u=t(24061),m=t(15919),h=t(69508),x=t(98091),p=t(88307),f=t(91664),j=t(10143),g=t(35047),v=t(41190),b=t(99744),y=t(58451),N=t(95379),w=t(38227),C=t(90434),k=t(1656),T=t(58399),A=t(51223),P=t(19819),Z=t(35226),D=t(33519),z=t(92977),S=t(29280),q=t(55153),I=t(42244),R=t(9969),_=t(74064),M=t(27256),$=t(85999),V=t(76),O=t(69654),F=t(55296),Q=t(74723);let U=({departureId:e,trigger:s})=>{let[t,n]=(0,r.useState)(!1),[d,o]=(0,r.useState)([]),[c,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),{firestore:x}=(0,y.aC)(),p=(0,g.useRouter)(),{showPreloader:j}=(0,P.l)();(0,r.useEffect)(()=>{if(!t||!e||!x)return;h(!0);let s=(0,V.JU)(x,"scheduledTrips",e),a=(0,V.cf)(s,e=>{e.exists()&&u({id:e.id,...e.data()})}),r=(0,V.IO)((0,V.hJ)(x,"bookings"),(0,V.ar)("scheduledTripId","==",e)),l=(0,V.cf)(r,e=>{o(e.docs.map(e=>({id:e.id,...e.data()}))),h(!1)});return()=>{a(),l()}},[t,e,x]);let v=(e,s)=>{e.preventDefault(),n(!1),j(),p.push(s)};return(0,a.jsxs)(q.h,{open:t,onOpenChange:n,trigger:s,children:[(0,a.jsxs)(I.OX,{children:[a.jsx(I.iI,{children:"Passenger Manifest"}),a.jsx(l.SZ,{children:c?.routeName})]}),(0,a.jsxs)(I.Ng,{children:[m?a.jsx(w.O,{className:"h-48 w-full"}):a.jsx("div",{className:"space-y-3",children:d.length>0?d.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold",children:e.passengerName}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.itemDescription})]}),a.jsx(i.C,{variant:"outline",children:e.status})]},e.id)):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No passengers for this trip yet."})}),a.jsx(f.z,{asChild:!0,className:"w-full mt-6",children:a.jsx(C.default,{href:`/admin/dashboard/departures/${e}`,onClick:s=>v(s,`/admin/dashboard/departures/${e}`),children:"Go to Full Manifest"})})]})]})},Y=async(e,s)=>{if(!s)throw Error("Not authorized");let t=await fetch(e,{headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error((await t.json().catch(()=>({message:`An error occurred on the server (${t.status}).`}))).message||"An error occurred while fetching data.");return t.json()},G=M.Ry({driverId:M.Z_().min(1,"Please select a driver."),vehicleId:M.Z_().min(1,"Please select a vehicle.")}),L=({booking:e,onComplete:s,drivers:t,vehicles:l,trigger:i})=>{let[n,d]=(0,r.useState)(!1),{firestore:o}=(0,y.aC)(),c=(0,Q.cI)({resolver:(0,_.F)(G),defaultValues:{driverId:e.driverId||"",vehicleId:e.vehicleId||""}}),u=async a=>{let r=t?.find(e=>e.id===a.driverId);if(!r){$.Am.error("Selected driver not found.");return}let l=(0,V.JU)(o,"bookings",e.id);try{await (0,V.r7)(l,{driverId:a.driverId,vehicleId:a.vehicleId,driverName:r.name,status:"Confirmed"}),$.Am.success("Charter Assigned!",{description:`${r.name} has been assigned.`}),s(),d(!1)}catch(e){$.Am.error("Assignment Failed",{description:"Could not update the charter record."})}},m=t.filter(e=>"Active"===e.status),h=l.filter(e=>"Active"===e.status&&("charter"===e.serviceType||"all"===e.serviceType));return(0,a.jsxs)(q.h,{open:n,onOpenChange:d,trigger:i,children:[(0,a.jsxs)(I.OX,{children:[a.jsx(I.iI,{children:"Assign Charter"}),a.jsx(I.u6,{children:"Select a driver and vehicle for this booking."})]}),a.jsx(I.Ng,{children:a.jsx(R.l0,{...c,children:(0,a.jsxs)("form",{id:"charter-assignment-form",onSubmit:c.handleSubmit(u),className:"space-y-4 pt-4",children:[a.jsx(R.Wi,{control:c.control,name:"driverId",render:({field:e})=>(0,a.jsxs)(R.xJ,{children:[a.jsx(R.lX,{children:"Driver"}),(0,a.jsxs)(S.Ph,{onValueChange:e.onChange,value:e.value,children:[a.jsx(R.NI,{children:a.jsx(S.i4,{children:a.jsx(S.ki,{placeholder:"Select a driver"})})}),a.jsx(S.Bw,{children:m.map(e=>a.jsx(S.Ql,{value:e.id,children:e.name},e.id))})]}),a.jsx(R.zG,{})]})}),a.jsx(R.Wi,{control:c.control,name:"vehicleId",render:({field:e})=>(0,a.jsxs)(R.xJ,{children:[a.jsx(R.lX,{children:"Vehicle"}),(0,a.jsxs)(S.Ph,{onValueChange:e.onChange,value:e.value,children:[a.jsx(R.NI,{children:a.jsx(S.i4,{children:a.jsx(S.ki,{placeholder:"Select a vehicle"})})}),a.jsx(S.Bw,{children:h.map(e=>(0,a.jsxs)(S.Ql,{value:e.id,children:[e.make," ",e.model," (",e.licensePlate,")"]},e.id))})]}),a.jsx(R.zG,{})]})})]})})}),a.jsx(I.ze,{children:a.jsx(f.z,{type:"submit",form:"charter-assignment-form",children:"Confirm Assignment"})})]})},W=({status:e})=>{let s={"On Progress":a.jsx(n.Z,{className:"h-3 w-3"}),Completed:a.jsx(n.Z,{className:"h-3 w-3"}),Pending:a.jsx(d.Z,{className:"h-3 w-3"}),Cancelled:a.jsx(o.Z,{className:"h-3 w-3"}),Delayed:a.jsx(d.Z,{className:"h-3 w-3 animate-pulse"}),Boarding:a.jsx(n.Z,{className:"h-3 w-3"}),"In Transit":a.jsx(c.Z,{className:"h-3 w-3"}),Quoted:a.jsx(n.Z,{className:"h-3 w-3"}),Closed:a.jsx(n.Z,{className:"h-3 w-3"}),Delivered:a.jsx(n.Z,{className:"h-3 w-3"}),Confirmed:a.jsx(n.Z,{className:"h-3 w-3"})};return(0,a.jsxs)(i.C,{variant:"outline",className:(0,A.cn)("text-xs font-medium border-0 gap-1.5",{"On Progress":"bg-blue-500/20 text-blue-400 border-blue-500/30",Boarding:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30","In Transit":"bg-purple-500/20 text-purple-400 border-purple-500/30",Delayed:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Cancelled:"bg-red-500/20 text-red-400 border-red-500/30",Completed:"bg-green-500/20 text-green-400 border-green-500/30",Pending:"bg-gray-500/20 text-gray-400 border-gray-500/30",Quoted:"bg-teal-500/20 text-teal-400 border-teal-500/30",Closed:"bg-gray-500/20 text-gray-400 border-gray-500/30",Delivered:"bg-green-500/20 text-green-400 border-green-500/30",Confirmed:"bg-blue-500/20 text-blue-400 border-blue-500/30"}[e]),children:[e,s[e]]})},B=({booking:e,drivers:s,vehicles:t,onUpdate:r,isSelected:i,onSelect:n})=>{let d=(0,g.useRouter)(),{firestore:p}=(0,y.aC)(),{showPreloader:v}=(0,P.l)(),b=(e,s)=>{e.preventDefault(),v(),d.push(s)},N=async s=>{let t=(0,V.JU)(p,"bookings",e.id);try{"cancel"===s?(await (0,V.r7)(t,{status:"Cancelled"}),$.Am.success("Trip Cancelled")):(await (0,V.oe)(t),$.Am.success("Trip Record Deleted")),r()}catch(e){$.Am.error("Action Failed",{description:"Could not update the trip record."})}},w="charter"===e.bookingType,k=w?`/admin/dashboard/charter/${e.id}`:`/admin/dashboard/departures/edit/${e.scheduledTripId}`,T=w?c.Z:u.Z,Z="Completed"===e.status||"Cancelled"===e.status;return(0,a.jsxs)(l.Zb,{className:(0,A.cn)("transition-shadow duration-300 flex flex-col",i&&"ring-2 ring-primary border-primary",w&&"Quoted"===e.status&&"bg-teal-500/5"),children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-start gap-4 pb-3",children:[a.jsx(O.X,{checked:i,onCheckedChange:s=>n(e.id,!!s),className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[a.jsx(W,{status:e.status}),a.jsx("p",{className:"text-sm font-semibold",children:e.travelDate?new Date(e.travelDate).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"}):"N/A"})]}),a.jsx("p",{className:"font-bold text-lg",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx(T,{className:"h-4 w-4"})," ",e.passengerName]})]})]}),(0,a.jsxs)(l.aY,{className:"space-y-3 flex-1 flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2 text-sm pt-3 border-t",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("p",{children:"Driver:"}),w&&"Quoted"===e.status?a.jsx(L,{booking:e,onComplete:r,drivers:s,vehicles:t,trigger:a.jsx(f.z,{variant:"outline",size:"sm",children:"Assign & Confirm"})}):a.jsx("span",{className:"font-semibold",children:e.driverName||"Unassigned"})]}),a.jsx("p",{className:"font-semibold",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.price)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[w?a.jsx(f.z,{className:"w-full",asChild:!0,children:a.jsx(C.default,{href:k,onClick:e=>b(e,k),children:"View Details"})}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.z,{className:"w-full",asChild:!0,variant:"outline",children:a.jsx(C.default,{href:`/admin/dashboard/departures/edit/${e.scheduledTripId}`,onClick:s=>b(s,`/admin/dashboard/departures/edit/${e.scheduledTripId}`),children:"Manage Departure"})}),a.jsx(U,{departureId:e.scheduledTripId,trigger:a.jsx(f.z,{className:"w-full",children:"View Manifest"})})]}),(0,a.jsxs)(j.h_,{children:[a.jsx(j.$F,{asChild:!0,children:a.jsx(f.z,{variant:"outline",size:"icon",children:a.jsx(m.Z,{})})}),(0,a.jsxs)(j.AW,{children:[a.jsx(j.Xi,{asChild:!0,children:(0,a.jsxs)(C.default,{href:k,onClick:e=>b(e,k),children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4"})," Edit / View"]})}),Z?(0,a.jsxs)(F.aR,{children:[a.jsx(F.vW,{asChild:!0,children:(0,a.jsxs)(j.Xi,{onSelect:e=>e.preventDefault(),className:"text-destructive focus:text-destructive",children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"})," Delete Record"]})}),(0,a.jsxs)(F._T,{children:[(0,a.jsxs)(F.fY,{children:[a.jsx(F.f$,{children:"Are you sure?"}),a.jsx(F.yT,{children:"This will permanently delete this booking record. This action cannot be undone."})]}),(0,a.jsxs)(F.xo,{children:[a.jsx(F.le,{children:"Go Back"}),a.jsx(F.OL,{onClick:()=>N("delete"),children:"Yes, Delete Permanently"})]})]})]}):(0,a.jsxs)(F.aR,{children:[a.jsx(F.vW,{asChild:!0,children:(0,a.jsxs)(j.Xi,{onSelect:e=>e.preventDefault(),className:"text-destructive focus:text-destructive",children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"})," Cancel Trip"]})}),(0,a.jsxs)(F._T,{children:[(0,a.jsxs)(F.fY,{children:[a.jsx(F.f$,{children:"Are you sure?"}),a.jsx(F.yT,{children:"This action will cancel the trip for the user. It cannot be undone."})]}),(0,a.jsxs)(F.xo,{children:[a.jsx(F.le,{children:"Go Back"}),a.jsx(F.OL,{onClick:()=>N("cancel"),children:"Yes, Cancel Trip"})]})]})]})]})]})]})]})]})};function E(){let[e,s]=(0,r.useState)(""),[t,i]=(0,r.useState)({from:(0,D.k)(new Date,20),to:(0,z.E)(new Date,20)}),[n,d]=(0,r.useState)("all"),[c,u]=(0,r.useState)([]),{firebaseUser:m,firestore:h}=(0,y.aC)(),[j,C]=(0,r.useState)();(0,g.useRouter)();let[A,P]=(0,r.useState)(1),{data:q,isLoading:I,error:R,mutate:_}=(0,T.ZP)(j?["/api/admin/users",j]:null,([e,s])=>Y(e,s),{revalidateOnFocus:!1}),M=q?.bookings||[],Q=q||[],U=q?.vehicles||[];if(R)throw R;let G=(0,r.useMemo)(()=>{if(!M)return[];let s=[...M];if("all"!==n&&(s=s.filter(e=>e.status.toLowerCase()===n)),e){let t=e.toLowerCase();s=s.filter(e=>e.passengerName.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.driverName&&e.driverName.toLowerCase().includes(t)||e.pickupAddress&&e.pickupAddress.toLowerCase().includes(t)||e.destinationAddress&&e.destinationAddress.toLowerCase().includes(t))}if(t?.from){let e=new Date(t.from.setHours(0,0,0,0));s=s.filter(s=>!!s.travelDate&&new Date(s.travelDate)>=e)}if(t?.to){let e=new Date(t.to.setHours(23,59,59,999));s=s.filter(s=>!!s.travelDate&&new Date(s.travelDate)<=e)}return s},[e,n,M,t]),L=(0,r.useMemo)(()=>{let e=(A-1)*9;return G.slice(e,e+9)},[G,A]),W=Math.ceil(G.length/9),E=(e,s)=>{u(t=>s?[...t,e]:t.filter(s=>s!==e))},X=e=>{e?u(G.map(e=>e.id)):u([])},J=async e=>{let s=(0,V.qs)(h);c.forEach(t=>{let a=(0,V.JU)(h,"bookings",t);"cancel"===e?s.update(a,{status:"Cancelled"}):"delete"===e&&s.delete(a)});try{await s.commit(),$.Am.success("Batch Action Successful",{description:`${c.length} trip(s) have been ${"cancel"===e?"cancelled":"deleted"}.`}),u([]),_()}catch(e){$.Am.error("Batch Action Failed",{description:"Could not complete the batch operation."})}},H=e=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I?Array.from({length:9}).map((e,s)=>a.jsx(w.O,{className:"h-72 w-full"},`skeleton-card-${s}`)):e.length>0?e.map(e=>a.jsx(B,{booking:e,drivers:Q,vehicles:U,onUpdate:_,isSelected:c.includes(e.id),onSelect:E},e.id)):a.jsx("div",{className:"col-span-full text-center text-muted-foreground py-16",children:a.jsx("p",{className:"text-lg",children:"No records found for the current filters."})})}),K=L.filter(e=>"seat_booking"===e.bookingType),ee=L.filter(e=>"charter"===e.bookingType);return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[a.jsx(k.b,{title:"Trip Management",children:a.jsx(N.m,{page:"trips"})}),a.jsx("div",{className:"flex-1 p-4 md:p-6 overflow-y-auto pb-24",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"All Records"}),a.jsx(l.SZ,{children:"Search, filter, and manage all passenger trips and charters."}),(0,a.jsxs)("div",{className:"pt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(v.I,{type:"text",placeholder:"Search by passenger, ID, driver, etc...",className:"pl-10 h-12",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Z.$,{date:t,onDateChange:i}),(0,a.jsxs)(S.Ph,{onValueChange:d,defaultValue:"all",children:[a.jsx(S.i4,{className:"h-12",children:a.jsx(S.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(S.Bw,{children:[a.jsx(S.Ql,{value:"all",children:"All Statuses"}),a.jsx(S.Ql,{value:"pending",children:"Pending"}),a.jsx(S.Ql,{value:"quoted",children:"Quoted"}),a.jsx(S.Ql,{value:"confirmed",children:"Confirmed"}),a.jsx(S.Ql,{value:"boarding",children:"Boarding"}),a.jsx(S.Ql,{value:"in transit",children:"In Transit"}),a.jsx(S.Ql,{value:"completed",children:"Completed"}),a.jsx(S.Ql,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(O.X,{id:"select-all",checked:c.length>0&&c.length===G.length,onCheckedChange:e=>X(!!e)}),(0,a.jsxs)("label",{htmlFor:"select-all",className:"text-sm font-medium leading-none",children:["Select all (",G.length,")"]})]})]})]}),a.jsx(l.aY,{children:(0,a.jsxs)(b.mQ,{defaultValue:"all",className:"w-full",children:[(0,a.jsxs)(b.dr,{className:"grid w-full grid-cols-3 bg-muted p-1 h-12 rounded-lg",children:[a.jsx(b.SP,{value:"all",children:"All"}),a.jsx(b.SP,{value:"bookings",children:"Passenger"}),a.jsx(b.SP,{value:"charters",children:"Charters"})]}),a.jsx(b.nU,{value:"all",className:"mt-6",children:H(L)}),a.jsx(b.nU,{value:"bookings",className:"mt-6",children:H(K)}),a.jsx(b.nU,{value:"charters",className:"mt-6",children:H(ee)})]})}),W>1&&a.jsx(l.eW,{className:"justify-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 mt-6",children:[a.jsx(f.z,{variant:"outline",onClick:()=>P(e=>Math.max(e-1,1)),disabled:1===A,children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Page ",A," of ",W]}),a.jsx(f.z,{variant:"outline",onClick:()=>P(e=>Math.min(e+1,W)),disabled:A===W,children:"Next"})]})})]})}),c.length>0&&a.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] max-w-md z-50",children:a.jsx(l.Zb,{className:"bg-card/90 backdrop-blur-sm shadow-2xl border-primary/50",children:(0,a.jsxs)(l.aY,{className:"p-3 flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"font-semibold text-sm",children:[c.length," selected"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(F.aR,{children:[a.jsx(F.vW,{asChild:!0,children:(0,a.jsxs)(f.z,{variant:"destructive",size:"sm",children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"})," Cancel"]})}),(0,a.jsxs)(F._T,{children:[(0,a.jsxs)(F.fY,{children:[a.jsx(F.f$,{children:"Are you absolutely sure?"}),(0,a.jsxs)(F.yT,{children:["This will cancel ",c.length," trip(s). This action marks them as cancelled but does not delete them."]})]}),(0,a.jsxs)(F.xo,{children:[a.jsx(F.le,{children:"Go Back"}),a.jsx(F.OL,{onClick:()=>J("cancel"),children:"Yes, Cancel Trips"})]})]})]}),(0,a.jsxs)(F.aR,{children:[a.jsx(F.vW,{asChild:!0,children:(0,a.jsxs)(f.z,{variant:"destructive",size:"sm",className:"bg-red-800 hover:bg-red-900",children:[a.jsx(x.Z,{className:"mr-2 h-4 w-4"})," Delete"]})}),(0,a.jsxs)(F._T,{children:[(0,a.jsxs)(F.fY,{children:[a.jsx(F.f$,{children:"Danger: Are you sure?"}),(0,a.jsxs)(F.yT,{children:["This will permanently delete ",c.length," record(s). This action cannot be undone."]})]}),(0,a.jsxs)(F.xo,{children:[a.jsx(F.le,{children:"Go Back"}),a.jsx(F.OL,{onClick:()=>J("delete"),className:"bg-red-700 hover:bg-red-800",children:"Yes, Delete Permanently"})]})]})]})]})]})})})]})}},55296:(e,s,t)=>{"use strict";t.d(s,{OL:()=>j,_T:()=>m,aR:()=>d,f$:()=>p,fY:()=>h,le:()=>g,vW:()=>o,xo:()=>x,yT:()=>f});var a=t(10326),r=t(17577),l=t(61947),i=t(51223),n=t(91664);let d=l.fC,o=l.xz,c=l.h_,u=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));u.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,...s},t)=>(0,a.jsxs)(c,{children:[a.jsx(u,{}),a.jsx(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[-48%] data-[state=open]:slide-in-from-top-[-48%] sm:rounded-lg",e),...s})]}));m.displayName=l.VY.displayName;let h=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});h.displayName="AlertDialogHeader";let x=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});x.displayName="AlertDialogFooter";let p=r.forwardRef(({className:e,...s},t)=>a.jsx(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",e),...s}));p.displayName=l.Dx.displayName;let f=r.forwardRef(({className:e,...s},t)=>a.jsx(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=l.dk.displayName;let j=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aU,{ref:t,className:(0,i.cn)((0,n.d)(),e),...s}));j.displayName=l.aU.displayName;let g=r.forwardRef(({className:e,...s},t)=>a.jsx(l.$j,{ref:t,className:(0,i.cn)((0,n.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));g.displayName=l.$j.displayName},10143:(e,s,t)=>{"use strict";t.d(s,{$F:()=>u,AW:()=>m,Xi:()=>h,h_:()=>c});var a=t(10326),r=t(17577),l=t(31395),i=t(39183),n=t(32933),d=t(53982),o=t(51223);let c=l.fC,u=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef(({className:e,inset:s,children:t,...r},n)=>(0,a.jsxs)(l.fF,{ref:n,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=l.fF.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=l.tu.displayName;let m=r.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(l.Uv,{children:a.jsx(l.VY,{ref:r,sideOffset:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));m.displayName=l.VY.displayName;let h=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(l.ck,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));h.displayName=l.ck.displayName,r.forwardRef(({className:e,children:s,checked:t,...r},i)=>(0,a.jsxs)(l.oC,{ref:i,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(n.Z,{className:"h-4 w-4"})})}),s]})).displayName=l.oC.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.Rk,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=l.Rk.displayName,r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(l.__,{ref:r,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t})).displayName=l.__.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},38227:(e,s,t)=>{"use strict";t.d(s,{O:()=>l});var a=t(10326),r=t(51223);function l({className:e,...s}){return a.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...s})}},99744:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>Z,nU:()=>S,dr:()=>D,SP:()=>z});var a=t(10326),r=t(17577),l=t(82561),i=t(93095),n=t(15594),d=t(9815),o=t(77335),c=t(17124),u=t(52067),m=t(88957),h="Tabs",[x,p]=(0,i.b)(h,[n.Pc]),f=(0,n.Pc)(),[j,g]=x(h),v=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:d,activationMode:h="automatic",...x}=e,p=(0,c.gm)(d),[f,g]=(0,u.T)({prop:r,onChange:l,defaultProp:i});return(0,a.jsx)(j,{scope:t,baseId:(0,m.M)(),value:f,onValueChange:g,orientation:n,dir:p,activationMode:h,children:(0,a.jsx)(o.WV.div,{dir:p,"data-orientation":n,...x,ref:s})})});v.displayName=h;var b="TabsList",y=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...l}=e,i=g(b,t),d=f(t);return(0,a.jsx)(n.fC,{asChild:!0,...d,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(o.WV.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:s})})});y.displayName=b;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:i=!1,...d}=e,c=g(N,t),u=f(t),m=T(c.baseId,r),h=A(c.baseId,r),x=r===c.value;return(0,a.jsx)(n.ck,{asChild:!0,...u,focusable:!i,active:x,children:(0,a.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...d,ref:s,onMouseDown:(0,l.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,l.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,l.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||i||!e||c.onValueChange(r)})})})});w.displayName=N;var C="TabsContent",k=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,forceMount:i,children:n,...c}=e,u=g(C,t),m=T(u.baseId,l),h=A(u.baseId,l),x=l===u.value,p=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(d.z,{present:i||x,children:({present:t})=>(0,a.jsx)(o.WV.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:h,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&n})})});function T(e,s){return`${e}-trigger-${s}`}function A(e,s){return`${e}-content-${s}`}k.displayName=C;var P=t(51223);let Z=v,D=r.forwardRef(({className:e,...s},t)=>a.jsx(y,{ref:t,className:(0,P.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));D.displayName=y.displayName;let z=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));z.displayName=w.displayName;let S=r.forwardRef(({className:e,...s},t)=>a.jsx(k,{ref:t,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));S.displayName=k.displayName},31363:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,TripCard:()=>n,__esModule:()=>l,default:()=>d});var a=t(68570);let r=(0,a.createProxy)(String.raw`/root/app/src/app/admin/dashboard/trips/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/root/app/src/app/admin/dashboard/trips/page.tsx#TripCard`),d=(0,a.createProxy)(String.raw`/root/app/src/app/admin/dashboard/trips/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,8172,1915,4263,9691,5911,1244,1228,6999,4568,3324,8880,2087,1947,3882,4482,8399,2021,7802,6519,3702],()=>t(75467));module.exports=a})();